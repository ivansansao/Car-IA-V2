class Genetic {

    constructor() {
        this.gotCloserBest = 0;
        this.recordCloser = 0;
        this.quantidade = 4;
        this.pesos = '';
        this.shapes = '';
        this.melhor = null;
        this.melhorCorrente = null;
        this.pesos = [];
        this.shapes = '22,8;8;8,9;9';

        // Sem pista.
        this.pesos.push('');

        // Pista 1
        this.pesos.push('-0.16185849905014038,-0.04437238723039627,-1.3237130641937256,0.2876213788986206,-0.385092556476593,0.19724732637405396,0.1237185001373291,-0.06338256597518921,0.2453538477420807,-0.6997166872024536,1.410857081413269,0.32246139645576477,1.199432611465454,-0.4128447473049164,0.32923924922943115,-1.3065760135650635,0.15168942511081696,-0.07108508795499802,-0.17661991715431213,0.07175277173519135,0.23320171236991882,-0.272798627614975,0.7646384835243225,0.09415274113416672,0.06807831674814224,-0.3031100928783417,-0.11551899462938309,-0.020972825586795807,0.30205807089805603,-0.07269393652677536,-0.3349117040634155,0.2952057123184204,-0.47856825590133667,-0.13946513831615448,-0.6110274195671082,1.520184874534607,0.1623045802116394,0.19997701048851013,-0.8235505223274231,0.033160462975502014,0.33578619360923767,1.188737154006958,0.06884343177080154,1.3037086725234985,-0.09796760231256485,-0.12444498389959335,0.28243428468704224,0.5909421443939209,-0.1317303478717804,0.16166268289089203,0.35642683506011963,0.6080654263496399,-0.2894786298274994,-0.09969548135995865,-0.18787556886672974,-0.37247076630592346,0.12478846311569214,-0.9267023205757141,-0.08800050616264343,-0.2457096129655838,-0.12772005796432495,1.0642482042312622,-0.1620897650718689,0.4621514081954956,0.31308260560035706,-0.5343852639198303,-0.3469054400920868,-1.3564386367797852,0.004182605538517237,1.1538372039794922,0.18082450330257416,0.15190252661705017,0.11375369131565094,-0.506252646446228,-0.22739747166633606,-0.07488903403282166,-0.2785661518573761,0.8099858164787292,-0.035846829414367676,0.3080045282840729,0.1827273815870285,-0.6243537664413452,-0.018771793693304062,0.09771919250488281,-0.19458718597888947,-0.07943561673164368,0.24004529416561127,0.8611940145492554,-0.30244868993759155,1.3452447652816772,-0.12320582568645477,0.10487211495637894,0.21837569773197174,0.3406694531440735,-0.1392998844385147,0.2525820732116699,0.23607337474822998,0.3305451571941376,-0.37945234775543213,-0.25492599606513977,0.0682314857840538,-0.46676093339920044,-0.06115955859422684,-0.4739043712615967,0.3452170193195343,-0.31325408816337585,-0.2805209457874298,0.10767737030982971,0.13166068494319916,-0.5030214786529541,-0.0898054987192154,-0.327277272939682,0.41069135069847107,0.0333954393863678,-0.4944550693035126,-0.8328852653503418,0.3848859369754791,0.2575017511844635,0.23008418083190918,0.07410398870706558,0.49757274985313416,0.15810371935367584,0.23505420982837677,-0.572344183921814,0.15884074568748474,-0.10238425433635712,0.042895808815956116,0.33252835273742676,0.1521066427230835,-0.22623111307621002,0.26244229078292847,-0.08588148653507233,-2.720733642578125,-0.2699497938156128,-0.27051666378974915,0.1024727150797844,-0.08318343013525009,0.395197331905365,0.263071745634079,0.39213696122169495,0.29767268896102905,0.10573217272758484,0.7926983833312988,-0.3940197825431824,-0.024865301325917244,-0.32865607738494873,-0.9364618062973022,0.9848143458366394,-1.1595020294189453,0.18676576018333435,-0.019511492922902107,-1.5564467906951904,0.5025249123573303,-1.9183756113052368,0.08134669065475464,-0.5244364738464355,-0.22849886119365692,1.9314978122711182,0.19902153313159943,0.34307563304901123,-0.0020182060543447733,0.057369414716959,0.20125624537467957,-0.3094848394393921,0.27771198749542236,2.1878111362457275,-0.30896443128585815,-0.2018854320049286,0.2460600882768631,-0.1404835730791092,0.15096627175807953,-0.21715256571769714,2.1105048656463623,-0.0990428626537323,-0.02979367785155773,-0.06040643900632858;0,1.2993333339691162,0,-1.5122278928756714,-3.310288667678833,0,1.565291404724121,-0.26443052291870117;-0.9202674627304077,-0.2863459885120392,-0.20264552533626556,0.37124788761138916,0.9039772152900696,-0.9439395666122437,0.46519309282302856,-0.1224612444639206,0.6786810755729675,-1.3760827779769897,0.6986674070358276,0.30998435616493225,-1.4794461727142334,1.0476666688919067,-0.05415308475494385,0.3334486484527588,-0.5312850475311279,0.14023225009441376,-0.00895486120134592,1.935012936592102,0.563092827796936,-1.198738932609558,-1.1154136657714844,-0.3081356883049011,-0.310271292924881,1.5010926723480225,0.026366086676716805,-0.7110133767127991,-0.21397684514522552,1.2848334312438965,-0.6263017654418945,-0.43540990352630615,-2.2851455211639404,0.030620375648140907,0.7560316920280457,-0.1556524783372879,0.6402912139892578,1.818588137626648,0.33993232250213623,0.020111655816435814,-0.37478020787239075,0.8221223950386047,-0.1130407378077507,0.004149127285927534,-0.28086555004119873,1.3128257989883423,-0.744111955165863,0.16395674645900726,0.24335120618343353,1.2483513355255127,-0.552593469619751,-0.24164238572120667,-0.5527985692024231,0.09523453563451767,0.04384663328528404,0.03494676947593689,0.2000545859336853,-0.11365890502929688,-0.5390766263008118,-2.1367790699005127,-0.22851604223251343,1.5211632251739502,0.5813907384872437,-0.19258499145507812,-0.7726640105247498,-0.0587097704410553,-0.3092118501663208,0.9197566509246826,-1.4028240442276,0.4037737548351288,-0.3005206286907196,-0.6232607960700989;-0.1824028640985489,0,-1.6631824970245361,0,1.1417511701583862,0.7440764904022217,-1.6099988222122192,0.5921221971511841,1.3984278440475464');

        // Pista 2
        this.pesos.push('');

        // Pista 3
        this.pesos.push('');

        // Pista 4
        // this.pesos.push('1.053095817565918,-1.408902645111084,-0.6109799146652222,0.6146764159202576,6.7318854331970215,3.0083324909210205,0.8002046346664429,-3.438774824142456,-5.106338024139404,-4.1161088943481445,1.089067816734314,0.7386004328727722,4.344216823577881,2.213071346282959,0.7297493815422058,-2.9970319271087646,0.5793452858924866,-0.32670846581459045,-1.1325623989105225,-0.24465692043304443,-0.37598565220832825,0.30313190817832947,-0.7341101169586182,0.1361081600189209,-0.13815592229366302,0.23537319898605347,-0.37913909554481506,0.03862752765417099,-0.030250007286667824,-0.14938755333423615,-0.22802597284317017,0.7143133282661438,1.6361722946166992,-1.5839898586273193,-0.9632461071014404,-1.949053168296814,1.94431471824646,-0.5284411311149597,-0.34164026379585266,-0.5946303009986877,-1.2076873779296875,-0.45375534892082214,0.42754247784614563,0.5829271078109741,2.134655475616455,0.3630189895629883,0.17687132954597473,-1.0929228067398071,-0.4094694256782532,-1.1876418590545654,-0.23137670755386353,1.7937840223312378,-3.7871291637420654,1.8075261116027832,-1.5722423791885376,2.401402711868286,-0.021466176956892014,0.4845336079597473,0.4586108922958374,1.2302093505859375,0.5817805528640747,-1.341577172279358,0.08400896936655045,1.7368509769439697,-0.5599197149276733,-1.2624987363815308,-1.1599352359771729,-0.8580053448677063,-1.3946987390518188,1.1683954000473022,0.9746164083480835,2.6077961921691895,0.24320219457149506,0.1463669240474701,0.33123987913131714,0.6169539093971252,-1.0713560581207275,0.05514509603381157,0.06580799072980881,-0.9154092669487,0.8042998313903809,0.0713750496506691,-0.2932884693145752,0.661836564540863,0.4359235465526581,0.6919342279434204,0.0547611266374588,0.4757845997810364,-0.16184473037719727,0.7866691946983337,-0.1897699385881424,1.0531435012817383,-0.5560845732688904,-0.729404628276825,0.24624505639076233,-0.7204643487930298,-0.3326311409473419,-0.06648928672075272,-0.025533156469464302,0.2800792455673218,-1.055118203163147,0.25219011306762695,-0.10282435268163681,0.052337396889925,0.21479889750480652,1.7220489978790283,-0.025030631572008133,-0.12609590590000153,1.2143584489822388,0.35039955377578735,1.0268430709838867,-1.3607758283615112,-0.3450913429260254,0.09303174912929535,0.6805242896080017,-0.3382737636566162,-0.020253971219062805,0.16956470906734467,-0.01743384823203087,0.27532514929771423,-3.3957040309906006,-0.42376652359962463,-0.34901073575019836,-0.2175312042236328,-0.8918337225914001,-0.01865844801068306,-0.08590131253004074,-1.26182222366333,0.12340762466192245,0.0037040896713733673,0.32249942421913147,-0.8235073089599609,-0.712176501750946,0.25092431902885437,1.8016661405563354,0.27157989144325256,-0.041628096252679825,-3.811225652694702,0.3337973654270172,0.3517218828201294,-1.6727527379989624,0.4592992067337036,0.013913768343627453,0.23691944777965546,0.005277829244732857,0.22711296379566193,0.25882935523986816,-0.1308974325656891,-0.14029446244239807,0.06480046361684799,1.2108570337295532,0.3789246678352356,-0.5923480987548828,2.3123176097869873,0.7982367277145386,-0.37519434094429016,0.22973959147930145,1.3710111379623413,-0.38694506883621216,-2.4812204837799072,0.14352558553218842,1.3898496627807617,0.6982812285423279,0.3712426722049713,-1.0333409309387207,-0.33282729983329773,0.5837779641151428,1.0959173440933228,0.9552401304244995,-0.35432150959968567,-0.32227814197540283,0.6463634967803955,-2.7162320613861084,-0.046041496098041534,0.862972617149353,1.9607982635498047;0.6812397241592407,-1.0726227760314941,2.4268524646759033,2.6858644485473633,-1.1641240119934082,1.2293161153793335,0.4851473271846771,-6.162199974060059;-1.4551670551300049,-2.317492723464966,1.0564227104187012,-0.5028740167617798,-1.3129591941833496,0.41799041628837585,0.3227716386318207,0.2106866091489792,0.33229419589042664,-1.3857277631759644,1.3089580535888672,-0.038698360323905945,0.3093315064907074,9.27629566192627,0.5003670454025269,-5.332991123199463,0.28660351037979126,-0.1043260395526886,-1.0086238384246826,0.03238965570926666,-0.017222687602043152,0.2491248995065689,0.6417465806007385,-2.3261210918426514,-3.982658624649048,-1.897931694984436,1.3779352903366089,-0.6437256336212158,0.7158892750740051,-1.7293133735656738,0.6027514338493347,-3.599569082260132,-3.6687817573547363,-7.909276008605957,0.20004279911518097,-0.1252327263355255,-0.2206614464521408,0.6802528500556946,-0.3607104420661926,-0.16390329599380493,8.969403266906738,-1.2640982866287231,6.7951741218566895,-0.3134223520755768,-0.1372402161359787,-0.39596715569496155,-4.494690895080566,-0.3045960068702698,0.04767432436347008,-4.321160793304443,3.4284443855285645,-1.308781623840332,-0.01029503345489502,0.46701890230178833,-1.4343675374984741,-0.7962077856063843,-2.4246721267700195,1.7518175840377808,-2.4521126747131348,-3.3553688526153564,0.5423231720924377,-2.423649549484253,-0.053003910928964615,-0.04519610106945038,-0.06046255677938461,-2.7113077640533447,-0.4730883836746216,-4.772336006164551,0.16375073790550232,-0.3139989376068115,-0.48919838666915894,-0.04976518452167511;1.1049385070800781,-6.584754467010498,4.080504894256592,-5.6640706062316895,-3.644412040710449,-6.023884296417236,3.1070804595947266,6.606165409088135,-2.17441725730896');
        // this.pesos.push('-4.459616661071777,7.588348865509033,2.7662384510040283,-1.9142333269119263,3.2409605979919434,0.9475303292274475,3.1658835411071777,-0.806365966796875,-2.4085187911987305,0.2603949010372162,2.6262006759643555,4.764299392700195,7.417043685913086,2.48272967338562,1.1709065437316895,-2.0268170833587646,0.5793452858924866,-0.32670846581459045,-1.1325623989105225,-0.24465692043304443,-0.37598565220832825,0.30313190817832947,-0.7573069930076599,0.31851139664649963,-0.23566052317619324,0.23550665378570557,-0.3737708032131195,0.1523585170507431,-0.374455988407135,-0.14938755333423615,-0.22802597284317017,0.5908777713775635,1.4371007680892944,-1.8587827682495117,-0.9622200131416321,-2.0996809005737305,1.94431471824646,-0.5284411311149597,-0.33634331822395325,-0.5946303009986877,-1.2076873779296875,-0.45375534892082214,0.42754247784614563,-0.24504882097244263,2.308535099029541,0.5875011086463928,-0.10301085561513901,-1.2251032590866089,-0.6190752387046814,-1.0151928663253784,-0.15630260109901428,3.3342974185943604,-3.6129696369171143,2.2925610542297363,-1.1361643075942993,2.4099018573760986,-0.7006319761276245,-0.18506848812103271,0.4586108922958374,1.596917986869812,-0.6912395358085632,-1.558017373085022,0.07778671383857727,2.0952229499816895,-0.5599197149276733,-0.653658390045166,-1.1504175662994385,-0.8301551938056946,-1.4497960805892944,1.1683954000473022,0.4100472033023834,2.6797471046447754,0.11219396442174911,-0.1438749134540558,0.33123987913131714,0.6169539093971252,-0.8772175312042236,0.05514509603381157,0.3101818859577179,-0.9154092669487,0.8042998313903809,0.0713750496506691,-0.2932884693145752,0.4235096871852875,0.3567192256450653,0.6919342279434204,0.0547611266374588,-0.1904061883687973,-0.16184473037719727,0.8658655881881714,-0.1897699385881424,1.0531435012817383,-0.5560442209243774,-0.7674413323402405,0.37072473764419556,-0.7204643487930298,-0.3326311409473419,-0.06648928672075272,-0.025533156469464302,0.3679727017879486,-1.055118203163147,0.25219011306762695,-0.10282435268163681,0.052337396889925,0.21479889750480652,1.7220489978790283,-0.025030631572008133,-0.5251361727714539,1.2143584489822388,0.35039955377578735,1.0268430709838867,-1.3607758283615112,-0.2551534175872803,0.09303174912929535,0.6805242896080017,-0.4634033739566803,0.2892850637435913,0.16956470906734467,-0.13240817189216614,0.27532514929771423,-3.5128064155578613,-0.42376652359962463,-0.34901073575019836,-0.6369108557701111,-0.8918337225914001,-0.01865844801068306,-0.08590131253004074,-1.26182222366333,0.12340762466192245,0.0037040896713733673,0.32249942421913147,-0.8103790283203125,-0.712176501750946,0.25092431902885437,2.2310030460357666,-0.09785376489162445,-0.33796244859695435,-3.811225652694702,0.3337973654270172,0.3517218828201294,-1.604612946510315,0.4592992067337036,0.06429137289524078,0.06989280879497528,0.057784296572208405,0.048963554203510284,0.25882935523986816,0.5500088930130005,-0.14029446244239807,0.06480046361684799,1.0467233657836914,0.8382617235183716,-0.5923480987548828,1.959959864616394,0.8059912919998169,-0.35389670729637146,0.22973959147930145,1.3710111379623413,-0.38694506883621216,-2.591219663619995,0.3705713152885437,1.791351556777954,0.6982812285423279,0.43238773941993713,-0.9148107767105103,-0.33282729983329773,0.5837779641151428,0.5114564299583435,1.3075145483016968,-0.06833295524120331,-0.32227814197540283,0.6463634967803955,-2.9229867458343506,0.022703753784298897,0.862972617149353,1.9775853157043457;-2.197645902633667,-1.9640592336654663,1.293556571006775,1.5729951858520508,-0.747036874294281,0.5119074583053589,1.9681925773620605,-5.529892444610596;-1.317972183227539,-2.1863765716552734,1.0564227104187012,-0.5028740167617798,-4.648092269897461,1.025777816772461,0.7208617329597473,0.2106866091489792,0.33229419589042664,-1.839990258216858,1.5682750940322876,-0.038698360323905945,0.1850433498620987,10.880548477172852,-0.6460025310516357,-5.215829849243164,0.28660351037979126,-0.1043260395526886,-1.4031096696853638,0.9362213611602783,-0.0688098818063736,0.9850816130638123,2.667966604232788,-1.6653313636779785,-4.383523941040039,-1.897931694984436,1.3779352903366089,-0.6437256336212158,0.7158892750740051,-1.3356523513793945,0.6027514338493347,-9.121689796447754,-1.6774258613586426,-5.772272109985352,0.20004279911518097,-0.1252327263355255,-0.2206614464521408,1.4336788654327393,-0.3607104420661926,-0.1625031679868698,14.187295913696289,-1.156715989112854,6.892327308654785,-0.3134223520755768,-0.1372402161359787,-0.39596715569496155,-4.260660171508789,-0.13704310357570648,0.04767432436347008,-10.64859676361084,8.99685287475586,-1.5239020586013794,-0.05267972871661186,0.46701890230178833,-1.4343675374984741,0.7835389971733093,-2.613287925720215,1.7518175840377808,-3.3268799781799316,-5.236539840698242,1.443665623664856,-2.423649549484253,-0.053003910928964615,-0.04519610106945038,-2.921386241912842,-2.7113077640533447,-0.4938923120498657,-7.683753490447998,1.8387831449508667,-0.5444263815879822,-0.48919838666915894,-0.04976518452167511;-0.44080665707588196,-9.871750831604004,6.969429016113281,-8.502510070800781,-3.974109411239624,-1.7743353843688965,6.500255107879639,2.336702823638916,-1.4833413362503052');
        // this.pesos.push('-5.261071681976318,6.573807716369629,2.203571081161499,-2.5619959831237793,3.1373813152313232,1.4745639562606812,5.197744369506836,-2.7828171253204346,-1.150908350944519,-1.1277172565460205,2.7665398120880127,7.008565902709961,6.191546440124512,3.256732225418091,0.8163605332374573,-6.568823337554932,0.5793452858924866,-0.32670846581459045,-1.1355748176574707,-0.24465692043304443,-0.37598565220832825,0.30313190817832947,-0.7573069930076599,0.31851139664649963,-0.23566052317619324,0.23550665378570557,-0.3737708032131195,0.1523585170507431,-0.374455988407135,-0.14938755333423615,-0.22802597284317017,0.5908777713775635,1.4371007680892944,-1.8587827682495117,-0.9622200131416321,-2.6279170513153076,1.94431471824646,-0.5284411311149597,-0.33634331822395325,-0.5946303009986877,-1.2076873779296875,-0.45375534892082214,0.42754247784614563,-0.24504882097244263,2.308535099029541,0.5872686505317688,-0.10301085561513901,-1.2251032590866089,-0.6190752387046814,-1.0151928663253784,-0.15630260109901428,3.3342974185943604,-3.6129696369171143,2.2925610542297363,-1.1361643075942993,2.3603675365448,-0.7006319761276245,-0.18506848812103271,0.4586108922958374,1.596917986869812,-0.6912395358085632,-1.558017373085022,0.06648275256156921,2.1465580463409424,-0.5599197149276733,-0.653658390045166,-1.1504175662994385,-0.8301551938056946,-1.4497960805892944,1.1683954000473022,0.4100472033023834,2.6797471046447754,0.11219396442174911,-0.1438749134540558,0.33123987913131714,0.6169539093971252,-0.8772175312042236,0.05514509603381157,0.3101818859577179,-0.9154092669487,0.8042998313903809,0.0713750496506691,-0.2932884693145752,0.4235096871852875,0.3567192256450653,0.6919342279434204,0.0547611266374588,-0.1904061883687973,-0.16184473037719727,0.8658655881881714,-0.1897699385881424,1.0531435012817383,-0.5560442209243774,-0.7674413323402405,0.37072473764419556,-0.7204643487930298,-0.3326311409473419,-0.06648928672075272,-0.025533156469464302,0.3679727017879486,-1.055118203163147,0.25219011306762695,-0.10282435268163681,0.052337396889925,0.21479889750480652,1.7220489978790283,-0.025030631572008133,-0.5251361727714539,1.2143584489822388,0.35039955377578735,1.0268430709838867,-1.3607758283615112,-0.2551534175872803,0.09303174912929535,0.6805242896080017,-0.4634033739566803,0.2892850637435913,0.16956470906734467,-0.13240817189216614,0.27532514929771423,-3.5128064155578613,-0.42376652359962463,-0.34901073575019836,-0.6369108557701111,-0.8918337225914001,-0.01865844801068306,-0.08590131253004074,-1.26182222366333,0.12340762466192245,0.0037040896713733673,0.32249942421913147,-0.8103790283203125,-0.712176501750946,0.25092431902885437,2.2310030460357666,-0.09785376489162445,-0.33796244859695435,-3.811225652694702,0.3337973654270172,0.3517218828201294,-1.604612946510315,0.4592992067337036,0.06429137289524078,0.12053224444389343,0.057784296572208405,0.048963554203510284,0.25882935523986816,0.5500088930130005,-0.14029446244239807,0.06480046361684799,1.0417007207870483,0.8382617235183716,-0.5923480987548828,1.959959864616394,0.8059912919998169,-0.35389670729637146,0.22973959147930145,1.3710111379623413,-0.38694506883621216,-2.591219663619995,0.3705713152885437,1.791351556777954,0.6982812285423279,0.43238773941993713,-0.9148107767105103,-0.33282729983329773,0.5837779641151428,0.5114564299583435,1.3075145483016968,-0.06833295524120331,-0.32227814197540283,0.6463634967803955,-2.9229867458343506,0.022703753784298897,0.862972617149353,1.9775853157043457;-1.6982226371765137,-2.3947370052337646,1.37728750705719,1.7074249982833862,-2.4292097091674805,0.5119074583053589,2.3872876167297363,-5.529892444610596;-1.317972183227539,-2.071429967880249,1.0564227104187012,-0.5028740167617798,-6.681301593780518,2.919478416442871,0.945612370967865,0.2106866091489792,0.33229419589042664,-1.839990258216858,1.5682750940322876,-0.038698360323905945,0.1850433498620987,11.302881240844727,-2.0002429485321045,-5.215829849243164,0.28660351037979126,-0.1043260395526886,-1.4031096696853638,0.9362213611602783,-0.14020858705043793,0.9850816130638123,2.288630962371826,0.3532469868659973,-4.383523941040039,-1.897931694984436,1.3779352903366089,-0.6437256336212158,0.6535640954971313,-1.3356523513793945,0.6027514338493347,-7.910418510437012,0.8971246480941772,-5.772272109985352,0.20004279911518097,-0.1252327263355255,-0.2206614464521408,1.4336788654327393,-0.3607104420661926,-0.1625031679868698,13.694489479064941,-4.866091728210449,6.299354076385498,-0.3134223520755768,-0.1372402161359787,-0.39596715569496155,-4.260660171508789,-0.13704310357570648,0.04767432436347008,-8.600403785705566,9.580778121948242,-0.9511831998825073,-0.05267972871661186,0.46701890230178833,-1.4343675374984741,0.7835389971733093,-2.613287925720215,1.7518175840377808,-2.480149507522583,-1.4188494682312012,0.8076075911521912,-2.423649549484253,-0.053003910928964615,-0.04519610106945038,-2.921386241912842,-2.7113077640533447,-0.4938923120498657,-7.683753490447998,-0.5038432478904724,-1.248099684715271,-0.48919838666915894,-0.04976518452167511;-0.683844804763794,-6.6423115730285645,6.1861348152160645,-7.067042827606201,-5.536492347717285,-2.991041660308838,6.934864044189453,3.5017898082733154,-1.4833413362503052');
        // this.pesos.push('-3.9354476928710938,5.344726085662842,-1.1706722974777222,-0.5362386107444763,1.6604331731796265,-1.8162992000579834,6.4572577476501465,-3.319986343383789,-2.939213752746582,-4.295166492462158,1.4300405979156494,7.002790451049805,8.798445701599121,5.464393615722656,-5.7959980964660645,-5.705009937286377,0.5972508788108826,-0.020495999604463577,-1.1355748176574707,-0.24465692043304443,-0.37598565220832825,0.4576203227043152,-0.7573069930076599,0.28375986218452454,-0.48803389072418213,0.502804696559906,-0.5641406774520874,0.15870557725429535,0.23884931206703186,-0.06302715837955475,-0.5680357217788696,0.4927038252353668,1.5117411613464355,-1.0486226081848145,-0.7042691111564636,-3.6284682750701904,2.374601364135742,0.27498602867126465,-0.2228861004114151,-0.5946303009986877,-1.8705445528030396,-0.4667128324508667,-0.25366589426994324,1.1011720895767212,1.1135910749435425,-0.1545177847146988,-0.10301085561513901,-2.2163848876953125,0.07950972765684128,-2.814664840698242,-0.15630260109901428,2.039151191711426,-3.231018543243408,2.2925610542297363,-0.2842824459075928,4.2815423011779785,-2.249358654022217,0.18599791824817657,0.4586108922958374,1.2733269929885864,-1.407447099685669,0.20525836944580078,0.09855782240629196,3.036393404006958,-2.253385305404663,-2.5358545780181885,-1.1504175662994385,-1.0411291122436523,-1.9452896118164062,1.1683954000473022,-0.12151529639959335,0.18812231719493866,-1.6111210584640503,-0.7180226445198059,-0.09278535097837448,0.01143988873809576,-0.39593586325645447,0.5029913187026978,0.6136470437049866,-0.33774006366729736,0.7104970216751099,-0.5503130555152893,-0.23841151595115662,-0.08436025679111481,0.6900860667228699,1.0674755573272705,0.0547611266374588,-0.1904061883687973,-0.16184473037719727,0.8658655881881714,-0.1897699385881424,1.0531435012817383,-0.8480392098426819,-0.7674413323402405,0.37072473764419556,-0.5694195032119751,-0.3326311409473419,-0.06648928672075272,-0.025533156469464302,0.3679727017879486,-1.055118203163147,0.29242953658103943,-0.10282435268163681,0.052337396889925,0.21479889750480652,1.7220489978790283,-0.025030631572008133,-0.5251361727714539,1.2143584489822388,0.35039955377578735,1.0268430709838867,-1.3607758283615112,-0.2551534175872803,0.09303174912929535,0.6805242896080017,-0.4634033739566803,0.24826966226100922,0.2829754054546356,-0.13240817189216614,0.27532514929771423,-3.5128064155578613,-0.42376652359962463,-0.34901073575019836,-0.9063057899475098,-1.1193206310272217,-0.01865844801068306,-0.08590131253004074,-1.2839782238006592,0.12340762466192245,0.0037040896713733673,0.32249942421913147,-0.8103790283203125,-0.712176501750946,0.25092431902885437,2.2310030460357666,-0.35090509057044983,0.2171987146139145,-4.484753608703613,0.3337973654270172,0.3517218828201294,-1.604612946510315,0.4592992067337036,0.06429137289524078,0.12053224444389343,0.10005645453929901,0.4586561918258667,0.25882935523986816,1.5618246793746948,-0.14029446244239807,0.03357895836234093,1.0417007207870483,1.0292096138000488,-0.5470566153526306,2.0792720317840576,0.8059912919998169,-0.35389670729637146,0.22973959147930145,1.3710111379623413,-0.38694506883621216,-2.591219663619995,0.8633883595466614,1.791351556777954,0.6982812285423279,0.43238773941993713,-0.9148107767105103,-0.33282729983329773,1.1255290508270264,0.5114564299583435,1.3075145483016968,0.058028675615787506,-0.32227814197540283,0.6463634967803955,-2.9229867458343506,0.022703753784298897,0.862972617149353,1.9775853157043457;0.6905357241630554,-3.04618239402771,3.0445022583007812,2.7307395935058594,-4.449900150299072,-0.5791391730308533,4.468203544616699,-4.422483444213867;-1.3097381591796875,-1.0444107055664062,1.6315374374389648,-0.38170477747917175,-10.511638641357422,1.4404034614562988,0.9205887317657471,0.2106866091489792,0.33229419589042664,-1.839990258216858,1.5682750940322876,-0.038698360323905945,-1.1775928735733032,12.672636032104492,3.1917498111724854,-5.2760844230651855,0.28660351037979126,-0.1043260395526886,-1.4031096696853638,0.47633665800094604,-0.14627407491207123,0.42129629850387573,1.5923818349838257,1.0364043712615967,-4.665120601654053,-1.897931694984436,1.3860996961593628,-0.6437256336212158,1.1472582817077637,-1.3356523513793945,-0.21554258465766907,-7.365852355957031,-0.5536914467811584,-5.035991191864014,0.16752055287361145,-0.1252327263355255,-0.19853325188159943,1.4665993452072144,-0.3607104420661926,-0.1625031679868698,15.527512550354004,-7.031128406524658,7.031529903411865,-0.3134223520755768,-0.1372402161359787,-0.3043243885040283,-4.260660171508789,-0.16753524541854858,0.04767432436347008,-11.181693077087402,6.451380729675293,-0.9511831998825073,-0.05267972871661186,0.46701890230178833,-1.4343675374984741,0.7835389971733093,-3.1051223278045654,1.5853486061096191,-1.4625860452651978,4.315239906311035,0.9930258393287659,-2.423649549484253,-0.053003910928964615,-0.04519610106945038,-2.921386241912842,-2.653123140335083,-0.4938923120498657,-9.147045135498047,4.133559703826904,-1.248099684715271,-0.48919838666915894,-0.04976518452167511;-0.6195147633552551,-13.874685287475586,7.023596286773682,-3.989006996154785,-4.990505218505859,-0.9461197257041931,9.545193672180176,3.5017898082733154,-0.7276352047920227');
        // this.pesos.push('-5.261071681976318,6.225949764251709,2.203571081161499,-3.2328195571899414,3.1110832691192627,1.4745639562606812,5.065072059631348,-2.7828171253204346,-1.150908350944519,-2.0569875240325928,2.7665398120880127,7.008565902709961,7.55846643447876,3.256732225418091,1.2105872631072998,-7.419528961181641,0.5793452858924866,-0.32670846581459045,-1.1355748176574707,-0.24465692043304443,-0.37598565220832825,0.30313190817832947,-0.7573069930076599,0.31851139664649963,-0.23566052317619324,0.23550665378570557,-0.3737708032131195,0.1523585170507431,-0.374455988407135,-0.14938755333423615,-0.22802597284317017,0.5908777713775635,1.4371007680892944,-1.8587827682495117,-0.9622200131416321,-2.6279170513153076,1.94431471824646,-0.5284411311149597,-0.33634331822395325,-0.5946303009986877,-1.2076873779296875,-0.45375534892082214,0.42754247784614563,-0.24504882097244263,2.308535099029541,0.5872686505317688,-0.10301085561513901,-1.2251032590866089,-0.6190752387046814,-1.0151928663253784,-0.15630260109901428,3.3342974185943604,-3.6129696369171143,2.2925610542297363,-1.1361643075942993,2.3603675365448,-0.7006319761276245,-0.18506848812103271,0.4586108922958374,1.596917986869812,-0.6912395358085632,-1.558017373085022,0.06648275256156921,2.1465580463409424,-0.5599197149276733,-0.6684379577636719,-1.1504175662994385,-0.8301551938056946,-1.4497960805892944,1.1683954000473022,0.4100472033023834,2.6797471046447754,0.11219396442174911,-0.1438749134540558,0.33123987913131714,0.6169539093971252,-0.8772175312042236,0.05514509603381157,0.3101818859577179,-0.9154092669487,0.8042998313903809,0.0713750496506691,-0.2932884693145752,0.4235096871852875,0.3567192256450653,0.6919342279434204,0.0547611266374588,-0.1904061883687973,-0.16184473037719727,0.8658655881881714,-0.1897699385881424,1.0531435012817383,-0.5560442209243774,-0.7674413323402405,0.37072473764419556,-0.7204643487930298,-0.3326311409473419,-0.06648928672075272,-0.025533156469464302,0.3679727017879486,-1.055118203163147,0.25219011306762695,-0.10282435268163681,0.052337396889925,0.21479889750480652,1.7220489978790283,-0.025030631572008133,-0.5251361727714539,1.2143584489822388,0.35039955377578735,1.0268430709838867,-1.3607758283615112,-0.2551534175872803,0.09303174912929535,0.6805242896080017,-0.4634033739566803,0.2892850637435913,0.16956470906734467,-0.13240817189216614,0.27532514929771423,-3.5128064155578613,-0.42376652359962463,-0.34901073575019836,-0.6369108557701111,-0.8918337225914001,-0.01865844801068306,-0.08590131253004074,-1.26182222366333,0.12340762466192245,0.0037040896713733673,0.32249942421913147,-0.8103790283203125,-0.712176501750946,0.25092431902885437,2.2310030460357666,-0.09785376489162445,-0.33796244859695435,-3.811225652694702,0.3337973654270172,0.3517218828201294,-1.604612946510315,0.4592992067337036,0.06429137289524078,0.12053224444389343,0.057784296572208405,0.048963554203510284,0.25882935523986816,0.5500088930130005,-0.14029446244239807,0.06480046361684799,1.0417007207870483,0.8382617235183716,-0.5923480987548828,1.959959864616394,0.8059912919998169,-0.35389670729637146,0.22973959147930145,1.3710111379623413,-0.38694506883621216,-2.591219663619995,0.3705713152885437,1.791351556777954,0.6982812285423279,0.43238773941993713,-0.9148107767105103,-0.33282729983329773,0.5837779641151428,0.5114564299583435,1.3075145483016968,-0.06833295524120331,-0.32227814197540283,0.6463634967803955,-2.9229867458343506,0.022703753784298897,0.862972617149353,1.9775853157043457;-1.6982226371765137,-2.3947370052337646,1.37728750705719,1.7074249982833862,-2.4292097091674805,0.5119074583053589,2.3872876167297363,-5.529892444610596;-1.317972183227539,-2.071429967880249,1.0564227104187012,-0.5028740167617798,-6.681301593780518,2.919478416442871,0.945612370967865,0.2106866091489792,0.33229419589042664,-1.839990258216858,1.5682750940322876,-0.038698360323905945,0.1850433498620987,11.302881240844727,-2.0002429485321045,-5.215829849243164,0.28660351037979126,-0.1043260395526886,-1.4031096696853638,0.9362213611602783,-0.14020858705043793,0.9850816130638123,2.288630962371826,0.3532469868659973,-4.383523941040039,-1.897931694984436,1.3779352903366089,-0.6437256336212158,0.6535640954971313,-1.3356523513793945,0.6027514338493347,-7.910418510437012,0.8971246480941772,-5.772272109985352,0.20004279911518097,-0.1252327263355255,-0.2206614464521408,1.4336788654327393,-0.3607104420661926,-0.1625031679868698,13.694489479064941,-4.866091728210449,6.299354076385498,-0.3134223520755768,-0.1372402161359787,-0.39596715569496155,-4.260660171508789,-0.13704310357570648,0.04767432436347008,-8.600403785705566,9.580778121948242,-0.9511831998825073,-0.05267972871661186,0.46701890230178833,-1.4343675374984741,0.7835389971733093,-2.613287925720215,1.7518175840377808,-2.480149507522583,-1.4188494682312012,0.8076075911521912,-2.423649549484253,-0.053003910928964615,-0.04519610106945038,-2.921386241912842,-2.7113077640533447,-0.4938923120498657,-7.683753490447998,-0.5038432478904724,-1.248099684715271,-0.48919838666915894,-0.04976518452167511;-0.683844804763794,-6.6423115730285645,6.1861348152160645,-7.067042827606201,-5.536492347717285,-2.991041660308838,6.934864044189453,3.5017898082733154,-1.4833413362503052');
        // this.pesos.push('-5.261071681976318,7.697047710418701,2.203571081161499,-1.8212167024612427,3.6573073863983154,0.6389890313148499,5.099670886993408,-2.385070323944092,-1.150908350944519,-3.470735788345337,2.7665398120880127,7.182318687438965,7.3756184577941895,3.256732225418091,1.3071719408035278,-7.215911865234375,0.5793452858924866,-0.32670846581459045,-1.1355748176574707,-0.24465692043304443,-0.37598565220832825,0.30313190817832947,-0.7573069930076599,0.31851139664649963,-0.23566052317619324,0.23550665378570557,-0.3737708032131195,0.1523585170507431,-0.374455988407135,-0.14938755333423615,-0.22802597284317017,0.5908777713775635,1.4371007680892944,-1.8587827682495117,-0.9622200131416321,-2.6230931282043457,1.94431471824646,-0.5284411311149597,-0.33634331822395325,-0.5946303009986877,-1.2076873779296875,-0.4536067545413971,0.42754247784614563,-0.24504882097244263,2.308535099029541,0.5872686505317688,-0.10301085561513901,-1.2438474893569946,-0.6190752387046814,-1.0151928663253784,-0.15630260109901428,3.3342974185943604,-3.6129696369171143,2.2925610542297363,-1.1361643075942993,2.3603675365448,-0.7006319761276245,-0.18506848812103271,0.4586108922958374,1.596917986869812,-0.6912395358085632,-1.558017373085022,0.06648275256156921,2.1426007747650146,-0.5599197149276733,-0.6684379577636719,-1.1504175662994385,-0.8301551938056946,-1.4497960805892944,1.1614081859588623,0.4100472033023834,2.6797471046447754,0.11219396442174911,-0.1438749134540558,0.33123987913131714,0.6169539093971252,-0.8772175312042236,0.05514509603381157,0.3101818859577179,-0.9154092669487,0.8042998313903809,0.0713750496506691,-0.2932884693145752,0.4235096871852875,0.3567192256450653,0.6919342279434204,0.0547611266374588,-0.1904061883687973,-0.16184473037719727,0.8658655881881714,-0.1897699385881424,1.0531435012817383,-0.5560442209243774,-0.7674413323402405,0.37072473764419556,-0.7204643487930298,-0.3326311409473419,-0.06648928672075272,-0.025533156469464302,0.3679727017879486,-1.055118203163147,0.25219011306762695,-0.10282435268163681,0.052337396889925,0.21548523008823395,1.722273588180542,-0.025030631572008133,-0.5251361727714539,1.2143584489822388,0.35039955377578735,1.0268430709838867,-1.3607758283615112,-0.2551534175872803,0.09303174912929535,0.6805242896080017,-0.4634033739566803,0.2892850637435913,0.16956470906734467,-0.13240817189216614,0.27532514929771423,-3.5128064155578613,-0.20771370828151703,-0.34901073575019836,-0.6369108557701111,-0.8918337225914001,-0.01865844801068306,-0.08590131253004074,-1.26182222366333,0.12340762466192245,-0.01467778068035841,0.32249942421913147,-0.8103790283203125,-0.712176501750946,0.25092431902885437,2.2310030460357666,-0.09785376489162445,-0.33796244859695435,-3.811225652694702,0.3337973654270172,0.3517218828201294,-1.6090452671051025,0.4592992067337036,0.06429137289524078,0.12053224444389343,0.057784296572208405,0.048963554203510284,0.25882935523986816,0.5500088930130005,-0.13916341960430145,0.06480046361684799,1.0417007207870483,0.8382617235183716,-0.5923480987548828,1.959959864616394,0.8059912919998169,-0.35389670729637146,0.22973959147930145,1.3710111379623413,-0.38694506883621216,-2.591219663619995,0.3705713152885437,1.791351556777954,0.6982812285423279,0.43238773941993713,-0.9148107767105103,-0.33282729983329773,0.5837779641151428,0.5114564299583435,1.3075145483016968,-0.06833295524120331,-0.32227814197540283,0.6463634967803955,-2.9229867458343506,0.022703753784298897,0.862972617149353,1.9775853157043457;-1.6982226371765137,-2.3947370052337646,1.37728750705719,1.7074249982833862,-2.4292097091674805,0.5119074583053589,2.3872876167297363,-5.529892444610596;-1.317972183227539,-2.071429967880249,1.0564227104187012,-0.5028740167617798,-6.681301593780518,2.919478416442871,0.945612370967865,0.2106866091489792,0.33229419589042664,-1.839990258216858,1.5682750940322876,-0.038698360323905945,0.1850433498620987,11.302881240844727,-2.0002429485321045,-5.215829849243164,0.28660351037979126,-0.1043260395526886,-1.4031096696853638,0.9362213611602783,-0.14020858705043793,0.9850816130638123,2.288630962371826,0.3532469868659973,-4.383523941040039,-1.897931694984436,1.3779352903366089,-0.6437256336212158,0.6535640954971313,-1.3356523513793945,0.6027514338493347,-7.910418510437012,0.8971246480941772,-5.772272109985352,0.20004279911518097,-0.1252327263355255,-0.2206614464521408,1.4336788654327393,-0.3607104420661926,-0.1625031679868698,13.694489479064941,-4.866091728210449,6.299354076385498,-0.3134223520755768,-0.1372402161359787,-0.39596715569496155,-4.260660171508789,-0.13704310357570648,0.04767432436347008,-8.600403785705566,9.580778121948242,-0.9511831998825073,-0.05267972871661186,0.46701890230178833,-1.4343675374984741,0.7835389971733093,-2.613287925720215,1.7518175840377808,-2.480149507522583,-1.4188494682312012,0.8076075911521912,-2.423649549484253,-0.053003910928964615,-0.04519610106945038,-2.921386241912842,-2.7113077640533447,-0.4938923120498657,-7.683753490447998,-0.5038432478904724,-1.248099684715271,-0.48919838666915894,-0.04976518452167511;-0.683844804763794,-6.6423115730285645,6.1861348152160645,-7.067042827606201,-5.536492347717285,-2.991041660308838,6.934864044189453,3.5017898082733154,-1.4833413362503052');
        this.pesos.push('-5.194774150848389,8.595478057861328,2.6021296977996826,-1.0873780250549316,3.9359028339385986,-1.1117162704467773,5.493942737579346,-4.902055263519287,-0.3546082079410553,-3.124854326248169,2.7866692543029785,6.763368606567383,7.238779544830322,3.084632396697998,1.4217849969863892,-4.321460723876953,0.5793452858924866,-0.32670846581459045,-1.1355748176574707,-0.24465692043304443,-0.37598565220832825,0.30313190817832947,-0.7573069930076599,0.31851139664649963,-0.23566052317619324,0.23550665378570557,-0.3737708032131195,0.1523585170507431,-0.374455988407135,-0.14938755333423615,-0.22802597284317017,0.5883488655090332,1.4371007680892944,-1.8587827682495117,-0.9622200131416321,-2.6230931282043457,1.94431471824646,-0.5284411311149597,-0.3415735065937042,-0.5946303009986877,-1.2076873779296875,-0.4536067545413971,0.42754247784614563,-0.24504882097244263,2.308535099029541,0.5872686505317688,-0.10301085561513901,-1.2438474893569946,-0.6190752387046814,-1.0151928663253784,-0.15630260109901428,3.3342974185943604,-3.6158103942871094,2.2925610542297363,-1.1361643075942993,2.3603675365448,-0.7006319761276245,-0.18506848812103271,0.4586108922958374,1.596917986869812,-0.6912395358085632,-1.558017373085022,0.06544999033212662,2.1426007747650146,-0.5599197149276733,-0.6684379577636719,-1.1504175662994385,-0.8301551938056946,-1.4497960805892944,1.1614081859588623,0.4100472033023834,2.6797471046447754,0.11219396442174911,-0.1438749134540558,0.33123987913131714,0.6169539093971252,-0.8772175312042236,0.05514509603381157,0.3101818859577179,-0.9154092669487,0.8042998313903809,0.0713750496506691,-0.2932884693145752,0.4289759695529938,0.3570345938205719,0.6919342279434204,0.0547611266374588,-0.1904061883687973,-0.16184473037719727,0.8658655881881714,-0.1897699385881424,1.0531435012817383,-0.5560442209243774,-0.7674413323402405,0.37072473764419556,-0.7204643487930298,-0.333040326833725,-0.06648928672075272,-0.025533156469464302,0.3679727017879486,-1.055118203163147,0.25219011306762695,-0.10282435268163681,0.052337396889925,0.21548523008823395,1.722273588180542,-0.025030631572008133,-0.5251361727714539,1.2158701419830322,0.35039955377578735,1.0268430709838867,-1.3607758283615112,-0.2551534175872803,0.09303174912929535,0.6805242896080017,-0.4634033739566803,0.289409875869751,0.16956470906734467,-0.13240817189216614,0.27532514929771423,-3.5128064155578613,-0.20771370828151703,-0.34901073575019836,-0.6369108557701111,-0.8918337225914001,-0.01865844801068306,-0.08590131253004074,-1.261989951133728,0.12340762466192245,-0.01467778068035841,0.32249942421913147,-0.8103790283203125,-0.712176501750946,0.25092431902885437,2.2310030460357666,-0.09785376489162445,-0.33796244859695435,-3.811225652694702,0.3337973654270172,0.3517218828201294,-1.6090452671051025,0.4592992067337036,0.06429137289524078,0.3632902204990387,0.057784296572208405,0.048963554203510284,0.25882935523986816,0.5500088930130005,-0.13916341960430145,0.06480046361684799,1.0417007207870483,0.8365424871444702,-0.5923480987548828,1.959959864616394,0.8059912919998169,-0.35389670729637146,0.25993961095809937,1.3710111379623413,-0.38694506883621216,-2.591219663619995,0.3705713152885437,1.791351556777954,0.6982812285423279,0.43238773941993713,-0.9148107767105103,-0.33282729983329773,0.5841181874275208,0.5114564299583435,1.3075145483016968,-0.06833295524120331,-0.32227814197540283,0.6463634967803955,-2.9229867458343506,0.022703753784298897,0.862972617149353,1.9775853157043457;-1.6982226371765137,-2.3947370052337646,1.37728750705719,1.7074249982833862,-2.4292097091674805,0.5119074583053589,2.3872876167297363,-5.529892444610596;-1.317972183227539,-2.071429967880249,1.0564227104187012,-0.5028740167617798,-6.681301593780518,2.919478416442871,0.945612370967865,0.2106866091489792,0.33229419589042664,-1.839990258216858,1.5682750940322876,-0.038698360323905945,0.1850433498620987,11.302881240844727,-2.0002429485321045,-5.215829849243164,0.28660351037979126,-0.1043260395526886,-1.4031096696853638,0.9362213611602783,-0.14020858705043793,0.9850816130638123,2.288630962371826,0.3532469868659973,-4.383523941040039,-1.897931694984436,1.3779352903366089,-0.6437256336212158,0.6535640954971313,-1.3356523513793945,0.6027514338493347,-7.910418510437012,0.8971246480941772,-5.772272109985352,0.20004279911518097,-0.1252327263355255,-0.2206614464521408,1.4336788654327393,-0.3607104420661926,-0.1625031679868698,13.694489479064941,-4.866091728210449,6.299354076385498,-0.3134223520755768,-0.1372402161359787,-0.39596715569496155,-4.260660171508789,-0.13704310357570648,0.04767432436347008,-8.600403785705566,9.580778121948242,-0.9511831998825073,-0.05267972871661186,0.46701890230178833,-1.4343675374984741,0.7835389971733093,-2.613287925720215,1.7518175840377808,-2.480149507522583,-1.4188494682312012,0.8076075911521912,-2.423649549484253,-0.053003910928964615,-0.04519610106945038,-2.921386241912842,-2.7113077640533447,-0.4938923120498657,-7.683753490447998,-0.5038432478904724,-1.248099684715271,-0.48919838666915894,-0.04976518452167511;-0.683844804763794,-6.6423115730285645,6.1861348152160645,-7.067042827606201,-5.536492347717285,-2.991041660308838,6.934864044189453,3.5017898082733154,-1.4833413362503052');

        // this.pesos.push('');

        // Pista 5
        this.pesos.push('');

        // Pista 6
        this.pesos.push('');
    }

    firstGeneration() {

        console.log('Primeira geração...');

        cars = [];

        // Novos
        for (let i = 0; i < quantidade; i++) {
            cars.push(new Car());
        }

        let child = new Car('X');
        let pesos;
        if (pesosForcados != undefined) {
            pesos = this.pesos[pesosForcados];
            console.log(`Pesos da pista ${pesosForcados}`);
        } else {
            pesos = this.pesos[pista.selectedPista];
        }

        if (pesos.length > 0) {
            if (world.startWeightSaved) {
                child.ia.setWeightsFromString(pesos, this.shapes);
            }
        }
        cars.push(child);
        this.melhor = child;

        vivos = cars.length;

    }

    nextGeneration() {

        pista.reset();

        this.calcColocacao();

        if (colocacao.length == 0) {
            this.firstGeneration();
            return

        }

        const lastMelhor = this.melhor;
        
        this.melhor = this.getMelhorCarro();
        this.gotCloserBest = this.getGotCloserBest();
        
        if (this.gotCloserBest > this.recordCloser) {
            this.recordCloser = this.gotCloserBest;            
            console.log('Pesos utilizados na corriga anterior:');
            console.log(lastMelhor.ia.showWeights());
        }

        if (!this.melhor) {
            return
        }
        this.saveWeights(this.melhor);
        
        let date = new Date();
        
        console.log(`**** G${nGeracao + 1}. ${date.getHours()}:${date.getMinutes()} KM: ${this.melhor.km} Marca: ${this.melhor.marca} Quebrado: ${this.melhor.timer} Ran: ${this.melhor.ranhurasColetadas.length} Perto: ${this.gotCloserBest} Muts: ${this.melhor.ia.mutated}`);
        
        //  f1: ${this.melhor.ia.f1} f2: ${this.melhor.ia.f2} 

        if (this.melhor.ranhurasColetadas.length > record) {
            foo.speak(`Atingiu ${this.melhor.ranhurasColetadas.length}!`);
            record = this.melhor.ranhurasColetadas.length;
        }

        if (this.melhor.km < pista.recordKm || this.melhor.ranhurasColetadas.length > pista.recordRanhuras) {

            pista.recordKm = this.melhor.km;
            pista.recordRanhuras = this.melhor.ranhurasColetadas.length;
            foo.speak(`quilômetro ${pista.recordKm.toFixed(0)}!`);
            this.melhor.ia.showWeights();
        }

        // pista.pistaTimeOut = ceil(this.melhor.aliveTime *1.1);

        evolucao.push(this.melhor);

        nGeracao++;
        hue = 0;

        cars = [];

        const weights = this.melhor.ia.model.getWeights();

        const weightCopies = [];
        for (let i = 0; i < weights.length; i++) {
            weightCopies[i] = weights[i].clone();
        }

        // Clonado e mutado.
        for (let i = 1; i < (quantidade / 3) * 0; i++) {

            let child = new Car('m');
            child.ia.model.setWeights(weightCopies);
            child.ia.mutate(0.1,1); // 0.1
            cars.push(child);

        }

        // Clonado e mutado.
        for (let i = 1; i < (quantidade / 3) * 3; i++) {

            let child = new Car('T');
            child.ia.model.setWeights(weightCopies);
            child.ia.mutate(0.05); // 0.1
            cars.push(child);

        }

        // Clonado (elitismo)
        if (elitism) {

            let child = new Car('c');
            child.ia.model.setWeights(weightCopies);
            cars.push(child);
        }

        vivos = cars.length;

    }

    setFlag() {

        if (pista) {
            const tmpMelhor = genetic.getMelhorCarro();
            if (tmpMelhor) {
                pista.setFlag(tmpMelhor.pos.x, tmpMelhor.pos.y, tmpMelhor.km);
                this.melhorCorrente = tmpMelhor;
            }
        }

    }

    getQuemMaisDeuReh(qtd) {

        console.log(`Primeiro: ${colocacao[0].km}`);

        let maiorReh = 0;
        let maiorI = 0;

        for (let i = 0; i < min(qtd, colocacao.length); i++) {

            car = colocacao[i];

            console.log(`${i}:  ${colocacao[i].km} -> ${colocacao[i].qtdReh}`);

            if (car.km > 0) {
                if (myRelu(colocacao[i].qtdReh) > maiorReh) {

                    maiorReh = myRelu(colocacao[i].qtdReh);
                    maiorI = i;
                }
            }
        }

        console.log('******* Maior ré é ->', colocacao[maiorI].qtdReh, ' km ', colocacao[maiorI].km, ' i: ', maiorI);
        return colocacao[maiorI];

    }

    getGotCloserBest() {

        let qtd = 0;

        if (this.melhor) {            
            for (const car of cars) {
                if (this.melhor.id != car.id) {
                    if (abs(this.melhor.km - car.km) < 100) {
                        qtd++;
                    }
                }
            }
        }

        return qtd;

    }

    getMelhorCarro() {

        
        let melhor = null;
        let km = Infinity;
        let maisRanhuras = 0;
        let lap = 0;
        let maisMuts = 0;

        // Seleciona a maior volta.
        for (const car of cars) {
            if (car.lap > lap) {
                lap = car.lap;
            }
        }

        // Mais perto do final da pista

        for (const car of cars) {

            if (car.km > 0 && car.lap == lap) {
                if (car.km < km && car.timer < pista.pistaTimeOut) {
                    km = car.km;
                    melhor = car;
                }
            }
        }

        // Carros com mais mutações.

        for (const car of cars) {

            if (car.km == km && car.lap == lap) {
                if (car.ia.mutated > maisMuts) {
                    maisMuts = car.ia.mutated;
                    melhor = car;                    
                }
                
            }
        }

        if (false) {
            
            for (const car of cars) {
    
                if (car.ranhurasColetadas.length > maisRanhuras) {
                    maisRanhuras = car.ranhurasColetadas.length;
                    melhor = car;
                }
            }
    
            if (maisRanhuras < 7 && pista.selectedPista == 2) {

                // Se empate, verifica desses qual tem melhor ângulo.

                let maiorHea = 0;

                for (const car of cars) {
                    if (car.ranhurasColetadas.length == maisRanhuras) {
                        if (car.heading > maiorHea) {
                            maiorHea = car.heading;
                            melhor = car;
                        }
                    }
                }

            } else {

                // Se empate, verifica desses qual tem melhor km.

                let maisKm = Infinity;

                for (const car of cars) {
                    if (car.ranhurasColetadas.length == maisRanhuras) {
                        if (car.km > 0) {
                            if (car.km < maisKm) {
                                maisKm = car.km;
                                melhor = car;
                            }
                        }
                    }
                }
            }
        }

        //  // Se empate, soteia um.
        //  for (const car of cars) {
        //      if (car.ranhurasColetadas.length == maisRanhuras) {
        //          if (random(1) > 0.5) {
        //              melhor = car;
        //              break;
        //          }
        //      }
        //  }

        // console.log('Mais KM() -> ', this.melhor.km, ' maisRanhuras: ', maisRanhuras, ' maisKm: ', maisKm);
        // fill(0,0,255);
        // circle(this.melhor.pos.x,this.melhor.pos.y,8);
        // noLoop();


        return melhor;
    }

    funcSalvarMelhorCarro(melhor) {
        if (salvarMelhorCarro) {
            // localStorage.setItem('meuGato', 'Tom');

            // document.cookie = "username=ivan; expires=Thu, 18 Dec 2025 12:00:00 UTC; path=/";

            // try {
            //     console.log('Salvando carro... ', this.melhor.marca);
            //     await this.melhor.ia.model.save('indexeddb://caria-melhor');
            //     console.log('Salvo');
            //     // await this.melhor.ia.model.save('localstorage://caria-melhor');
            // } catch (err) {
            //     console.error(err);
            // }
        }
    }

    funcCarregarCarroSalvo() {
        if (carregarCarroSalvo) {
            // console.log(' leitura: ',localStorage.getItem('meuGato'));
            // console.log('cookie => ',document.cookie);
            // try {

            //     console.log('Carregando carro salvo...');
            //     const melhorSalvo = await tf.loadLayersModel('indexeddb://caria-melhor');

            //     let child = new Car('X');
            //     child.ia.model = null;
            //     child.ia.model = melhorSalvo
            //     cars.push(child);

            // } catch (err) {
            //     console.error(err);
            // }
            // melhorCarregado = true;
            // console.log('Carregado!')
        }

    }
    saveWeights(car) {
        const w = car.ia.showWeights(true);
        localStorage.setItem('melhor', w);
    }

    calcColocacao() {
        colocacao = [];
        for (let car of cars) {
            colocacao.push(car);
        }
        if (colocacao.length > 0) {
            colocacao.sort(function (a, b) { return b.km < a.km });
        }

    }


}