class Genetic {

    constructor() {
        this.gotCloserBest = 0;
        this.recordCloser = 0;
        this.quantidade = 4;
        this.pesos = '';
        this.shapes = '';
        this.melhor = null;
        this.melhorCorrente = null;
        this.pesos = [];
        this.shapes = '22,8;8;8,9;9';

        // Sem pista.
        this.pesos.push('');

        // Pista 1
        this.pesos.push('1.3229777812957764,4.826473236083984,-0.8663735389709473,-0.05608475208282471,-0.3732193112373352,1.5351650714874268,0.0001945684925885871,1.0626245737075806,0.08819231390953064,2.9974253177642822,2.2220585346221924,2.3201913833618164,-1.027887225151062,2.253314733505249,-1.678873896598816,1.9592889547348022,-0.5486811995506287,-0.13610967993736267,0.16486762464046478,-0.8290215730667114,-1.5775628089904785,-0.011424906551837921,-0.643483579158783,-0.007668179925531149,0.05484018474817276,1.3560556173324585,0.02587611973285675,-0.1117280125617981,-1.3013806343078613,-0.47171059250831604,-1.518649935722351,-1.249305248260498,1.3274797201156616,-0.17575106024742126,1.3329956531524658,-0.3010208308696747,-0.3130420446395874,0.8817152976989746,-0.68528813123703,-0.07434539496898651,1.3171517848968506,-3.632964849472046,-0.3898075819015503,0.9846222996711731,1.1739628314971924,1.906591534614563,-1.589499831199646,-1.182587742805481,-1.9415663480758667,0.43917664885520935,-0.20326019823551178,-0.6635982990264893,-0.5990214943885803,0.6064013838768005,0.5514600872993469,-0.6314815878868103,0.6531809568405151,-0.6161296367645264,1.0339791774749756,-0.5686401724815369,-0.7976335883140564,0.14441359043121338,-0.5498229265213013,-1.3016630411148071,0.4780113399028778,-0.7689017653465271,-0.31420406699180603,-0.942568302154541,-0.4991925358772278,-0.9004267454147339,-0.31844112277030945,1.4567961692810059,-0.18337221443653107,-0.08408510684967041,-1.3020371198654175,-1.013727068901062,0.9276162981987,1.3076540231704712,-0.18002849817276,-1.471369743347168,2.4226436614990234,-0.4420604407787323,0.2857683300971985,-0.8483598828315735,0.378024160861969,0.1259065717458725,-0.573183536529541,-0.06688317656517029,1.5367321968078613,-0.6274488568305969,-0.27774274349212646,-0.218927264213562,1.145168423652649,-1.5916016101837158,1.221480131149292,0.29551073908805847,-0.6916189789772034,-0.39176493883132935,0.2783479690551758,0.24995635449886322,0.2001747339963913,1.9547001123428345,0.38834887742996216,-0.4023599922657013,-0.890005886554718,-2.754788875579834,0.24254700541496277,-0.3465447723865509,0.16688817739486694,-0.7166265845298767,-0.7392983436584473,0.23599018156528473,0.4464564025402069,-0.5926200747489929,-1.4012994766235352,-3.299773693084717,0.3294631242752075,-0.6051691174507141,-0.4160268306732178,1.480445146560669,1.4750630855560303,-0.5530824065208435,0.779869019985199,0.7974951863288879,-0.17255575954914093,0.519158124923706,-0.07809162884950638,-0.43975257873535156,2.092372179031372,-0.0019449125975370407,-0.09493837505578995,-1.62615168094635,0.7114719152450562,-0.8036648631095886,2.077723741531372,1.5111457109451294,0.9114229083061218,0.5320845246315002,-2.500896453857422,1.0190558433532715,-0.35753679275512695,-0.1977338194847107,-0.6200626492500305,0.4523347020149231,0.10369447618722916,1.6845771074295044,-1.5457804203033447,0.4363076090812683,1.1765552759170532,-0.7257341742515564,1.7676465511322021,-1.492690086364746,1.3063876628875732,-1.462575912475586,-0.0684361532330513,0.4428396224975586,-0.4763801395893097,-1.1656430959701538,1.9146337509155273,-1.5892010927200317,-2.345355749130249,-0.002752932719886303,-1.1286299228668213,0.4432060420513153,0.28514131903648376,-0.15610714256763458,-0.16336454451084137,-0.3532671630382538,-2.2148396968841553,0.09437154233455658,-0.2757589817047119,1.582937479019165,0.30145445466041565,-3.529001474380493,0.7768625020980835,0.3488576412200928;2.0275702476501465,-3.7548093795776367,-1.2453668117523193,-1.8621301651000977,-1.964774250984192,3.291438579559326,3.1978204250335693,-0.7012357711791992;-1.8022370338439941,-4.639881134033203,-0.23999187350273132,0.7802300453186035,-5.407311916351318,-16.510892868041992,-0.5236417055130005,2.749035120010376,-0.40915828943252563,-0.9113988280296326,3.360867500305176,-0.46589282155036926,10.10886287689209,12.889107704162598,-3.881571054458618,0.09447804093360901,7.914089202880859,1.9484487771987915,0.09166659414768219,-4.140368461608887,-0.5642883777618408,3.4771382808685303,1.119403600692749,-15.838191986083984,0.8805463910102844,-2.154501438140869,-2.983337879180908,-1.6275745630264282,0.5295390486717224,1.060189962387085,-2.352689504623413,-2.785656213760376,10.200949668884277,0.31764084100723267,2.301093101501465,-0.07951429486274719,-0.38571521639823914,-3.623387098312378,0.6164482235908508,0.8165363669395447,1.8466057777404785,-2.789341449737549,-1.248551845550537,2.5090394020080566,-0.5718217492103577,-0.36232954263687134,3.605583429336548,-0.5260023474693298,1.8136345148086548,1.9016613960266113,14.743078231811523,2.183363914489746,-0.16566714644432068,-2.2354559898376465,0.2810032367706299,-1.5236274003982544,0.31777289509773254,6.917752265930176,11.726842880249023,0.033895883709192276,0.08319546282291412,0.6990463733673096,1.8950269222259521,0.2770864963531494,1.7267019748687744,0.5708152055740356,0.457409530878067,9.643030166625977,-3.52386736869812,-2.4011194705963135,18.563884735107422,0.22922012209892273;-3.9199297428131104,-6.194295406341553,-1.5381137132644653,5.834606170654297,19.142086029052734,0.19281472265720367,1.2178304195404053,-2.755462169647217,1.0722932815551758');

        // Pista 2
        this.pesos.push('-2.4192075729370117,8.182243347167969,0.5442622900009155,-6.140575408935547,0.4206228256225586,2.7349050045013428,4.630753517150879,-0.6961246728897095,-7.064025402069092,-3.615494966506958,5.327238082885742,8.21973991394043,12.160561561584473,6.434757709503174,3.8161814212799072,-9.83089542388916,0.8075110912322998,-1.799641489982605,-2.2885003089904785,3.279257297515869,-0.538351833820343,-2.4368999004364014,-2.9236724376678467,-0.8597813844680786,2.6236801147460938,-1.5598013401031494,-0.207014799118042,-3.706418514251709,-0.6826674938201904,-1.754015564918518,-1.173404335975647,3.268315553665161,1.7201176881790161,-1.8787360191345215,0.2887868285179138,-1.5907528400421143,4.183285713195801,-2.5443835258483887,0.2951774299144745,-1.356708288192749,0.7968617677688599,-1.0559546947479248,2.030855417251587,1.6894570589065552,5.86276912689209,1.3819571733474731,-0.40822672843933105,1.4084171056747437,3.389523506164551,0.2756412625312805,-4.597484111785889,5.026951313018799,-2.6440727710723877,2.1333396434783936,-0.7020979523658752,4.02582311630249,0.7193115949630737,-1.114093542098999,2.882164478302002,-0.46436429023742676,4.365649700164795,-3.64459228515625,-0.5398236513137817,-0.104686439037323,-0.10365145653486252,0.37523749470710754,-1.0363348722457886,-2.230616807937622,-6.446892738342285,3.006122589111328,2.2769572734832764,2.4815313816070557,-1.8639678955078125,2.1212069988250732,-2.141017436981201,-1.0317680835723877,2.2875654697418213,-4.664955139160156,4.615339279174805,-2.1570091247558594,-2.0857930183410645,0.6297704577445984,-2.2249131202697754,0.9029141068458557,2.806877851486206,-1.7808696031570435,-0.014595190063118935,1.2778747081756592,0.7978623509407043,0.16915617883205414,-2.070997476577759,1.408298134803772,2.0987308025360107,0.4597729742527008,-1.0191364288330078,-3.2658371925354004,-1.1492551565170288,-0.05397077649831772,-1.3401035070419312,-4.6000075340271,-1.568723201751709,-0.18402762711048126,1.7192434072494507,0.5124384760856628,1.4119502305984497,0.8926913142204285,-2.2706472873687744,-0.30392882227897644,2.792546272277832,0.18334494531154633,4.394244194030762,-3.6284313201904297,-1.3406952619552612,0.5560107827186584,-0.20066656172275543,-3.440345525741577,-0.5925673246383667,-1.3029134273529053,-0.42705824971199036,0.6543610095977783,1.534157156944275,1.6049244403839111,-0.9062820672988892,0.32132071256637573,-0.9135532975196838,-0.3545471429824829,3.192783832550049,-0.5482421517372131,-3.459582567214966,1.300764560699463,2.7899205684661865,-1.6017160415649414,-4.44159460067749,1.8422117233276367,0.4554879367351532,-1.2267303466796875,1.0295562744140625,-10.74340534210205,1.4747543334960938,-1.263993740081787,-2.54407000541687,0.6086298227310181,1.1236733198165894,0.7933060526847839,-0.6329255700111389,1.4530467987060547,1.2524008750915527,-1.716599464416504,0.5707257986068726,1.3894702196121216,3.6639347076416016,1.620762825012207,-1.774304986000061,1.4316701889038086,6.010383129119873,-0.33660802245140076,0.4240100681781769,1.7513656616210938,-4.141974925994873,-0.005382290575653315,0.4650399088859558,0.7817758321762085,1.602437973022461,-0.11828815937042236,-1.3563001155853271,-3.2335331439971924,1.9778404235839844,-2.52626633644104,7.93501091003418,2.2306859493255615,-0.4139915704727173,1.913044810295105,-4.632047653198242,-0.01023808028548956,0.8145769238471985,3.4126434326171875;-4.380833625793457,-1.0396734476089478,8.596367835998535,-4.247039318084717,-3.561387300491333,-2.301881790161133,8.935622215270996,-10.350349426269531;1.4622783660888672,-1.554909586906433,2.8908629417419434,-2.5088553428649902,-4.723893165588379,1.3659271001815796,2.232787609100342,-4.699016571044922,3.005829095840454,-0.0425502248108387,3.67881178855896,-0.6406979560852051,-1.1354975700378418,14.283556938171387,-0.42210641503334045,-3.680598258972168,-0.537732720375061,-0.047276247292757034,-1.62543785572052,4.656002998352051,1.1198076009750366,6.764243125915527,1.0370272397994995,2.4542152881622314,-4.33735990524292,-5.454133987426758,2.5352582931518555,1.409523844718933,0.3782668113708496,-1.0625498294830322,2.1447768211364746,-6.228434085845947,2.613476514816284,-3.594196081161499,0.7448059916496277,-1.8097072839736938,1.7169702053070068,3.8751578330993652,1.8226251602172852,2.5254554748535156,13.588454246520996,-9.010255813598633,8.17443561553955,0.7215270400047302,1.3731422424316406,1.2697679996490479,-3.886284828186035,1.4951881170272827,2.2791264057159424,-6.167548656463623,10.41020393371582,-0.2671548128128052,-1.8352407217025757,-0.24437987804412842,-4.518568992614746,1.699565052986145,-3.330554485321045,-6.371518135070801,-3.9081461429595947,0.9419687390327454,-3.1386733055114746,-0.7309856414794922,2.6501903533935547,-0.8472462892532349,-2.7031145095825195,0.24860215187072754,-1.5141404867172241,-5.116081714630127,2.604485511779785,-0.2431344985961914,1.6032639741897583,1.486116886138916;-3.8123278617858887,-10.742483139038086,11.983295440673828,-8.730507850646973,-11.98171615600586,-1.348229169845581,9.812987327575684,-2.246934652328491,4.881857395172119');

        // Pista 3 1033
        // this.pesos.push('1.7198545932769775,3.3772287368774414,0.7005923390388489,0.5200377106666565,-1.3558566570281982,1.5351650714874268,-0.00011290586553514004,0.983517587184906,0.08819231390953064,2.9974253177642822,2.3144702911376953,1.9855742454528809,-1.1038004159927368,2.253314733505249,-2.870337963104248,0.28968942165374756,-0.5486811995506287,-0.13610967993736267,0.16486762464046478,-0.8290215730667114,-1.5775628089904785,-0.011424906551837921,-0.643483579158783,-0.007668179925531149,0.05484018474817276,0.31735870242118835,0.02587611973285675,-0.1117280125617981,-1.3013806343078613,-0.47171059250831604,-1.518649935722351,0.09672115743160248,1.3274797201156616,-0.17575106024742126,0.6493120789527893,0.6897537708282471,-0.3130420446395874,0.8817152976989746,-0.68528813123703,-0.07434539496898651,1.3171517848968506,-3.632964849472046,-0.3898075819015503,0.9846222996711731,1.1739628314971924,1.2899582386016846,-0.020082084462046623,-1.182587742805481,-1.9415663480758667,0.8900938034057617,-0.20326019823551178,-0.05337204784154892,-0.15117081999778748,1.1475558280944824,0.2004869133234024,-0.6314815878868103,0.6531809568405151,-0.6161296367645264,1.0339791774749756,-0.020540321245789528,0.18262962996959686,0.14441359043121338,-0.5498229265213013,-1.3016630411148071,0.4780113399028778,-1.6612062454223633,-0.31420406699180603,-0.942568302154541,-0.2376827448606491,0.21417202055454254,-1.0536365509033203,1.4567961692810059,-0.18337221443653107,-0.08408510684967041,-0.8469411134719849,-1.013727068901062,0.9276162981987,1.3076540231704712,-0.9746222496032715,0.2344059944152832,1.605248212814331,-0.40485459566116333,0.3177157938480377,-0.5119832754135132,0.378024160861969,-0.20123295485973358,0.12042344361543655,-0.06688317656517029,0.07144952565431595,-0.6274488568305969,-0.27774274349212646,-0.218927264213562,1.145168423652649,0.1421506404876709,1.221480131149292,0.29551073908805847,-0.6916189789772034,-0.39176493883132935,0.2783479690551758,0.7913298010826111,0.2001747339963913,0.23634421825408936,0.38834887742996216,-0.4023599922657013,-0.890005886554718,-2.754788875579834,0.2174185961484909,-0.3465447723865509,0.16688817739486694,-0.7166265845298767,-0.10180824249982834,0.23599018156528473,0.4464564025402069,-0.14159740507602692,0.22259950637817383,-3.299773693084717,0.3294631242752075,-0.1929997056722641,-0.29346615076065063,1.4783276319503784,-0.4490848481655121,-0.5530824065208435,0.779869019985199,0.7974951863288879,-0.17255575954914093,0.519158124923706,-0.07809162884950638,-0.43975257873535156,0.9542723298072815,-0.2153337001800537,-0.1304471343755722,-1.62615168094635,0.7038032412528992,-0.8036648631095886,2.077723741531372,1.5111457109451294,0.9114229083061218,0.16329823434352875,0.49721962213516235,1.0190558433532715,-0.35753679275512695,-0.1977338194847107,-0.45784294605255127,0.4523347020149231,0.10369447618722916,1.6845771074295044,-1.5457804203033447,0.4363076090812683,1.1765552759170532,-0.7257341742515564,-0.45391595363616943,-1.492690086364746,1.3063876628875732,-1.462575912475586,-0.0684361532330513,0.4428396224975586,-0.09250064939260483,-1.6821056604385376,1.9146337509155273,-1.5892010927200317,-2.345355749130249,-0.002752932719886303,-1.1286299228668213,0.4432060420513153,0.36202001571655273,-0.15610714256763458,0.28671377897262573,-0.3532671630382538,-2.2148396968841553,0.09437154233455658,-0.2757589817047119,1.6784626245498657,-0.25865045189857483,-3.529001474380493,1.1483749151229858,-0.18759043514728546;1.0765740871429443,-3.058124303817749,-0.18924719095230103,-1.9317041635513306,-0.5364366173744202,1.3302770853042603,3.3993895053863525,-0.4061001241207123;-1.1165344715118408,-4.891578674316406,-0.23999187350273132,1.5969412326812744,-5.407311916351318,-15.926580429077148,-0.5236417055130005,0.9452442526817322,-0.40915828943252563,-0.8569592833518982,4.255655765533447,-0.46589282155036926,5.405679225921631,13.828704833984375,-1.7505708932876587,0.09447804093360901,6.7226409912109375,0.46220192313194275,0.09166659414768219,-3.232239007949829,-0.5642883777618408,4.762664794921875,1.9421558380126953,-18.917980194091797,0.878071129322052,0.7179310321807861,-2.983337879180908,-1.6275745630264282,0.6013160347938538,1.060189962387085,-1.6461206674575806,-4.324456214904785,12.012459754943848,0.31764084100723267,1.7472848892211914,-0.07951429486274719,-0.38571521639823914,0.14392487704753876,0.6164482235908508,-0.17079338431358337,0.28788861632347107,-2.524301290512085,0.9855950474739075,0.6033672094345093,-0.5718217492103577,-0.36232954263687134,3.605583429336548,-0.5260023474693298,3.6818418502807617,-0.4572727382183075,9.51968002319336,2.183363914489746,0.11800508946180344,-2.2354559898376465,0.43208643794059753,-0.24414896965026855,0.31777289509773254,5.71290922164917,14.030430793762207,1.0741163492202759,0.08319546282291412,0.9829800128936768,1.8950269222259521,0.2770864963531494,2.201307773590088,0.5693483352661133,-1.2368767261505127,8.036423683166504,-7.171802997589111,-2.4011194705963135,19.078540802001953,0.22922012209892273;-3.5205414295196533,-5.693046569824219,0.07072272151708603,5.716355800628662,20.656797409057617,0.3375701904296875,2.646183967590332,-0.21829243004322052,1.0722932815551758');
        // this.pesos.push('1.3937891721725464,3.091118812561035,1.2525670528411865,2.0530505180358887,-0.18647533655166626,0.1915423423051834,1.2662239074707031,1.506623387336731,-0.15129950642585754,1.330674648284912,0.7932905554771423,-1.361860752105713,1.6491329669952393,3.299622058868408,-2.0843865871429443,0.04299192503094673,-0.2866632044315338,-0.11502709239721298,0.16486762464046478,-0.8290215730667114,-1.7438230514526367,-0.011424906551837921,-0.643483579158783,-0.319980651140213,0.05484018474817276,0.31735870242118835,0.02587611973285675,-0.1117280125617981,-1.3013806343078613,0.30811336636543274,-2.698516368865967,0.09672115743160248,1.3359007835388184,-0.17575106024742126,0.6493120789527893,2.589736223220825,-0.33481067419052124,0.871319591999054,-0.68528813123703,-1.151886224746704,1.3252805471420288,-3.632964849472046,-0.3898075819015503,2.2134835720062256,1.9528850317001343,1.2899582386016846,-0.020082084462046623,-3.536975622177124,-1.9415663480758667,0.8900938034057617,-1.3153555393218994,-0.5095837712287903,-0.15117081999778748,1.1475558280944824,0.2004869133234024,2.268044948577881,-1.2764986753463745,0.03932415693998337,1.02402663230896,-0.020540321245789528,0.18262962996959686,0.14441359043121338,-0.367958128452301,-1.3521547317504883,0.6399607062339783,-1.653300166130066,-0.31120565533638,-0.942568302154541,0.10697117447853088,0.21417202055454254,-1.0536365509033203,1.4567961692810059,-0.18337221443653107,-0.08408510684967041,-0.8469411134719849,-0.9967688918113708,2.148505926132202,1.3155007362365723,-1.668879508972168,0.11739503592252731,1.5982791185379028,-0.5879666209220886,0.3177157938480377,-0.5119832754135132,0.378024160861969,-0.20123295485973358,0.12042344361543655,0.9174303412437439,-0.8270790576934814,-0.6274488568305969,-0.27774274349212646,-0.2111416757106781,1.6439673900604248,0.1421506404876709,1.221480131149292,0.29551073908805847,-0.6916189789772034,-0.39176493883132935,0.2783479690551758,0.7902860641479492,0.2001747339963913,0.12231370806694031,0.38834887742996216,-0.4023599922657013,2.6059255599975586,-2.754788875579834,0.2174185961484909,-0.48585429787635803,0.1619669646024704,-1.049443244934082,-0.10180824249982834,0.028181156143546104,0.4464564025402069,-0.14159740507602692,0.22259950637817383,-3.299773693084717,0.3294631242752075,-0.20555922389030457,-0.29346615076065063,1.6366380453109741,-0.011755296029150486,-0.5530824065208435,0.6619635224342346,-0.540362536907196,-0.3764432668685913,0.519158124923706,-0.07809162884950638,-1.7140274047851562,0.9542723298072815,-0.2153337001800537,-0.1304471343755722,-1.617174744606018,0.6628060340881348,-0.616477906703949,1.2987818717956543,1.5564223527908325,0.9067750573158264,0.16324231028556824,0.49721962213516235,1.0190558433532715,-1.018673300743103,-0.1977338194847107,-0.45784294605255127,0.47033432126045227,0.10369447618722916,0.4881155788898468,-1.5457804203033447,0.4363076090812683,0.20479951798915863,-0.7257341742515564,-0.45391595363616943,-1.523026466369629,1.3009552955627441,-1.462575912475586,-0.0684361532330513,0.4428396224975586,-0.09250064939260483,-1.6821056604385376,2.61434268951416,-1.0426100492477417,-2.345355749130249,-0.8718038201332092,-2.831064224243164,1.24680757522583,0.36202001571655273,-0.15610714256763458,1.2084468603134155,-0.35788172483444214,-2.2148396968841553,0.09437154233455658,-0.2757589817047119,1.669938564300537,-0.25865045189857483,-3.529001474380493,1.1483749151229858,-0.18759043514728546;0.7499571442604065,-3.4024932384490967,-1.2203304767608643,-2.009434700012207,-3.591055393218994,0.3573371171951294,2.999509334564209,-2.556762218475342;-1.1165344715118408,-1.3441267013549805,-0.2572948634624481,0.950176477432251,-7.519403457641602,-23.949920654296875,-0.535452663898468,-3.0020151138305664,-0.40915828943252563,-2.1453232765197754,1.171972274780273,-0.46589282155036926,6.456320762634277,7.19963264465332,1.3050845861434937,0.09447804093360901,1.434404373168945,0.46220192313194275,0.09363170713186264,4.520540237426758,-0.5642883777618408,1.589974403381348,-5.418351650238037,-1.319326400756836,0.845827579498291,-0.036992162466049194,-3.02565336227417,-1.6275745630264282,3.46952223777771,1.060189962387085,3.334238290786743,2.9656832218170166,2.5206050872802734,1.5627919435501099,1.6111966371536255,-0.07951429486274719,-0.38571521639823914,-4.725149631500244,0.6164482235908508,3.4775004386901855,2.3511602878570557,2.314932346343994,1.5994362831115723,-1.102489471435547,-0.5718217492103577,-1.6144434213638306,5.217715740203857,-1.9476829767227173,1.296020984649658,1.302406311035156,1.779545307159424,2.5675578117370605,1.00277853012085,-2.2354559898376465,0.43208643794059753,0.656758725643158,1.3040058612823486,1.245584487915039,1.390413284301758,3.1098263263702393,0.5126388669013977,1.694948196411133,3.0559182167053223,0.2770864963531494,-1.418543338775635,-0.1098160445690155,-1.486248016357422,1.553176879882812,-0.7278345823287964,-0.6238651871681213,1.752409934997559,0.22922012209892273;-1.5429749488830566,-1.993841171264648,4.9149169921875,-1.1357741355896,1.716163635253906,-7.6911702156066895,-0.5169790983200073,-6.738667011260986,1.0722932815551758');
        // 6.895
        this.pesos.push('-0.06350136548280716,0.29370561242103577,0.4227077066898346,0.5578563213348389,-0.2063944786787033,1.033096432685852,0.13888484239578247,0.39444392919540405,-0.1974673718214035,-0.9927549958229065,3.944387435913086,-2.699174165725708,-0.5214861631393433,3.692582130432129,0.011560524813830853,1.5505346059799194,0.20033720135688782,0.037863701581954956,2.224297285079956,0.09873498976230621,1.347337245941162,-0.01270621083676815,1.1342284679412842,-0.09732303768396378,-1.8657796382904053,-0.19692854583263397,-0.21030208468437195,0.20132113993167877,0.38403618335723877,-0.08621696382761002,-1.1258734464645386,-1.6083794832229614,0.2642022967338562,-0.9222456812858582,-0.9973440170288086,-0.11171389371156693,0.2624469995498657,0.33631986379623413,3.6704940795898438,0.18140460550785065,-0.0566992424428463,0.13333289325237274,0.5443042516708374,-1.148844838142395,0.3693402409553528,-0.17363722622394562,0.3673325181007385,0.13909459114074707,-0.009840273298323154,-0.010988662019371986,0.12650324404239655,-0.24077798426151276,0.19492915272712708,-1.0501856803894043,0.053949110209941864,-0.3402007222175598,-1.6510201692581177,0.7896004915237427,-0.8658686280250549,0.35375285148620605,-1.1425641775131226,0.4088101089000702,0.7056992650032043,0.07063232362270355,-0.868755042552948,0.47455763816833496,0.21485599875450134,-0.37033024430274963,-0.18670012056827545,-1.1408854722976685,0.505192756652832,-0.8401386737823486,-0.4291702210903168,-0.7758209109306335,0.15360412001609802,-0.05663096532225609,-0.4256003797054291,-1.0169132947921753,0.8763211965560913,-0.039106953889131546,0.114504873752594,-0.3294963240623474,0.11294544488191605,0.20385700464248657,-0.017161693423986435,1.72219717502594,-0.3090575039386749,-0.03614477068185806,1.8885540962219238,-0.13897600769996643,-0.043293025344610214,0.2934861481189728,-0.13223211467266083,-0.37900564074516296,0.23667694628238678,-0.1427086889743805,0.10514067113399506,0.20874552428722382,-0.12298955023288727,0.7288088202476501,-0.857405424118042,-0.16043639183044434,0.3669256865978241,-0.36282506585121155,0.27952924370765686,1.6096701622009277,1.1665881872177124,-0.0945395678281784,0.4310991168022156,-0.14843891561031342,0.4980478286743164,0.26707708835601807,-0.14074218273162842,1.6310871839523315,0.056073322892189026,-0.1380525380373001,1.3047642707824707,-0.18963809311389923,-0.05615036562085152,1.320793628692627,-0.012965034693479538,0.4311029613018036,-1.8161768913269043,-0.41409164667129517,-0.0992242619395256,1.1316086053848267,-1.705022931098938,-1.0606786012649536,0.1511152982711792,-0.15301187336444855,0.6795281171798706,-2.2179629802703857,0.18423083424568176,0.09800589084625244,-0.20368212461471558,0.17441964149475098,1.020228385925293,0.12469528615474701,1.6858140230178833,0.20465119183063507,-0.7043601870536804,-0.03936072438955307,-0.5595218539237976,0.1663426011800766,-0.07012535631656647,-0.21377210319042206,-0.7709264159202576,-0.12820494174957275,-0.02942039631307125,-0.010104749351739883,0.697388768196106,0.6848050355911255,-0.3354167938232422,0.14262299239635468,-0.512086033821106,-0.4234153628349304,-0.2730686664581299,0.3222479522228241,-0.4002242386341095,-0.10062561929225922,0.05077463015913963,-0.02695329301059246,-0.20215487480163574,1.9534411430358887,0.11132344603538513,0.4573999345302582,-0.23808810114860535,1.453824758529663,-0.5125746130943298,0.19892463088035583,0.4467458724975586,0.28881755471229553,1.5750946998596191,0.8073250651359558,0.11294357478618622,-0.2035847306251526;0,1.0803509950637817,1.482746958732605,-0.10389894992113113,0,0,2.2663650512695312,0;0.1393636018037796,-2.465878963470459,1.0980491638183594,0.49126967787742615,1.8876022100448608,-1.3318411111831665,-0.653099536895752,-0.6025373935699463,-0.016433540731668472,0.9860674142837524,0.9551940560340881,-0.12318181246519089,-1.212410807609558,-0.42871353030204773,0.1221165806055069,0.3673976957798004,0.20490723848342896,1.2739759683609009,0.6807174682617188,-2.361828088760376,0.1527107208967209,-1.0191209316253662,1.9307162761688232,0.771754801273346,-0.4195775091648102,0.7684844136238098,-1.023526668548584,0.8702741265296936,1.2441011667251587,-0.059540554881095886,0.21102537214756012,0.5223613381385803,0.35724106431007385,-0.835288941860199,-0.13142816722393036,-0.06226157769560814,-0.4110826849937439,0.05371968820691109,-0.5272529125213623,0.12654858827590942,-1.2055155038833618,-0.22855596244335175,0.46298712491989136,-0.38120630383491516,0.2382778376340866,-1.1855548620224,2.4947938919067383,0.49624449014663696,1.2181928157806396,-0.1162891611456871,0.4155545234680176,0.17849069833755493,-0.9021202325820923,0.15075890719890594,-0.9253807067871094,0.050954997539520264,-0.08619637042284012,-0.08213460445404053,-1.8420425653457642,1.9404109716415405,0.5190470814704895,-0.3303240239620209,-0.4575470983982086,1.399177074432373,1.9465367794036865,-0.29852765798568726,-0.5366448163986206,0.19502541422843933,0.14992083609104156,-0.5504063963890076,0.3131791651248932,0.2641147971153259;0,0.14290456473827362,0,0,-2.4551637172698975,3.194247007369995,0.16929328441619873,0.06458938866853714,0');

        // Pista 4
        this.pesos.push('-1.71034836769104,15.866645812988281,1.3809970617294312,12.607468605041504,-4.863428592681885,-5.970763683319092,7.111446380615234,-9.434087753295898,1.4637054204940796,-12.023006439208984,2.5007333755493164,-0.9267008900642395,-5.442864894866943,-1.1154234409332275,5.079352855682373,-21.6641902923584,0.5793452858924866,-0.32711485028266907,-1.1355748176574707,-0.24465692043304443,-0.38123998045921326,0.30313190817832947,-0.7573069930076599,0.31945040822029114,-0.23406776785850525,0.34937620162963867,-0.3737708032131195,0.1511433869600296,-0.32003989815711975,-0.1497158259153366,-0.22361664474010468,0.5815449357032776,1.4471114873886108,-1.8544543981552124,-0.9622200131416321,-2.6302649974823,1.9322574138641357,-0.5284411311149597,-0.3354368507862091,-0.5994355082511902,-1.2001128196716309,-0.42521995306015015,0.42754247784614563,0.6825346350669861,2.345285654067993,0.5924971699714661,-0.09718804806470871,-1.2570194005966187,-0.6116492748260498,-0.9097983837127686,-0.23674720525741577,3.311739444732666,-4.122270584106445,2.289492607116699,-1.137810230255127,2.291858434677124,-0.7006319761276245,0.24381160736083984,0.4556989371776581,1.5738534927368164,-0.8783923983573914,-1.5450270175933838,0.05802023410797119,2.2364370822906494,-0.5666339993476868,-0.6993908882141113,-1.1504175662994385,-0.9438958168029785,-1.4479511976242065,1.0085136890411377,0.9046858549118042,2.219728708267212,0.1296093612909317,-0.1577819287776947,0.33123987913131714,0.9321433305740356,-1.6720788478851318,0.0711819976568222,0.31104525923728943,-0.9017577767372131,0.7900731563568115,0.062016624957323074,-0.2940550744533539,0.41317468881607056,0.354536235332489,0.7083648443222046,0.0579085536301136,-0.1626233011484146,-0.16204512119293213,0.8760941624641418,-0.1897699385881424,1.036232590675354,-0.6680796146392822,-0.8935197591781616,0.37072473764419556,-0.7399652600288391,-0.333040326833725,-0.0794963613152504,-0.025533156469464302,0.3675532937049866,-1.0605255365371704,0.25219011306762695,-0.10282435268163681,0.053461719304323196,0.21541576087474823,1.7187914848327637,0.000997990369796753,-0.520169734954834,1.2147984504699707,0.35039955377578735,1.0268430709838867,-1.3581334352493286,-0.2672893702983856,-0.7097165584564209,0.6805242896080017,-1.218549132347107,0.289409875869751,0.17437870800495148,-0.13188444077968597,0.2731645703315735,-3.503404378890991,-0.20771370828151703,-0.3502005636692047,-0.6666203141212463,-0.8838430047035217,-0.01865844801068306,-0.08590131253004074,-1.2677242755889893,0.1269514560699463,-0.015079213306307793,0.32249942421913147,-0.577787458896637,-0.741057276725769,0.2545366883277893,2.2310030460357666,-0.1804632991552353,-0.33974483609199524,-3.7943084239959717,0.3337973654270172,0.3790172040462494,-1.611757516860962,0.2621757388114929,0.06429137289524078,0.35620740056037903,0.05332044139504433,0.044993605464696884,0.25804466009140015,0.5785331130027771,-0.10790499299764633,0.06480046361684799,1.0355943441390991,0.8053443431854248,-0.5923480987548828,2.0023624897003174,0.8059912919998169,-0.33578869700431824,0.2833666503429413,1.3710111379623413,-0.3846045434474945,-2.614516019821167,0.37802746891975403,1.7940735816955566,0.6982812285423279,0.1060999408364296,-0.8953995704650879,-0.33282729983329773,0.5783155560493469,0.5129078030586243,1.3075478076934814,-0.6970790028572083,-0.32081708312034607,0.6463634967803955,-2.932394027709961,0.022703753784298897,0.862972617149353,1.9775853157043457;2.0424721240997314,-9.504549980163574,1.953883171081543,2.1015894412994385,10.792255401611328,1.9839197397232056,4.183248996734619,10.341835975646973;-1.317972183227539,-2.208191394805908,1.5719103813171387,-0.4696817398071289,-38.981178283691406,6.1843390464782715,3.5120129585266113,0.20619504153728485,0.33229419589042664,-1.9180718660354614,1.429534912109375,-0.262376993894577,0.740317702293396,36.15775680541992,1.9506782293319702,-6.27239465713501,0.2833653688430786,-0.10467525571584702,-1.4470341205596924,0.9987245798110962,-0.27294594049453735,0.9976659417152405,0.9347882270812988,12.87142276763916,-5.010115146636963,-1.8917633295059204,1.3781195878982544,0.4927224814891815,1.7864346504211426,-0.9491199254989624,0.6011983752250671,10.653839111328125,0.36942294239997864,-4.381303310394287,0.2044970989227295,-0.1252327263355255,-0.07760356366634369,0.33380433917045593,-0.23518681526184082,-0.1625031679868698,27.43032455444336,-5.295372486114502,6.662625789642334,-0.3134223520755768,-0.1372402161359787,-0.39706340432167053,-4.39498233795166,-0.07039962708950043,0.0492854081094265,5.2626953125,0.27016016840934753,0.44249099493026733,-0.05267972871661186,0.46630391478538513,-1.4644994735717773,0.8850666284561157,-1.5877190828323364,1.7550891637802124,2.44106125831604,11.78176498413086,-2.2119576930999756,-2.423793077468872,-0.053003910928964615,0.005892718210816383,-2.907306671142578,-2.015979051589966,-0.49835020303726196,-22.07797622680664,26.312618255615234,-4.276346683502197,-0.48919838666915894,-0.04814702272415161;-14.54340648651123,0.9806638956069946,4.107924938201904,-10.225764274597168,-22.269758224487305,-41.60073471069336,47.255462646484375,12.1519136428833,5.218010902404785');

        // Pista 5
        this.pesos.push('0.26264384388923645,-0.2248823642730713,0.4104709327220917,-0.26587235927581787,0.3490575850009918,-0.39163950085639954,0.12259615212678909,-0.3866935074329376,-0.42024457454681396,0.2857610881328583,0.8645992875099182,-0.0677105262875557,0.011375084519386292,-0.8975483775138855,-0.16079093515872955,0.4106284976005554,-0.17184363305568695,1.0370593070983887,0.12429357320070267,0.16218101978302002,-0.0025575614999979734,0.7136989831924438,0.19876456260681152,-0.5781612396240234,-0.6491377353668213,0.36004260182380676,0.16328586637973785,0.11875446140766144,-0.10688193887472153,1.2237746715545654,-0.09656310081481934,-1.6121563911437988,2.812725782394409,-0.3390829861164093,0.7462557554244995,-0.07478600740432739,0.3756572902202606,0.13392429053783417,0.7142283320426941,0.3482201099395752,0.171987846493721,0.27967536449432373,-0.25145986676216125,0.19116376340389252,0.43886619806289673,-0.0014847679995000362,-0.2666916251182556,-0.13780945539474487,-1.158336877822876,-0.04550580307841301,0.4345242977142334,0.23650510609149933,0.0892387181520462,0.09701575338840485,-0.3240014910697937,1.9812124967575073,0.28046944737434387,-0.4913449287414551,-0.3700881600379944,-2.478785514831543,0.49005603790283203,-0.8930944204330444,0.10148978978395462,-0.02701873891055584,-0.020834026858210564,-0.986239492893219,0.1696774661540985,0.12601427733898163,0.05599410831928253,-0.15428029000759125,-0.24524465203285217,0.8355938196182251,0.9573392868041992,-1.9266300201416016,-0.04831754416227341,-0.40453413128852844,-0.025362392887473106,0.08290476351976395,-0.18714097142219543,1.2581748962402344,-2.9447388648986816,-0.059992291033267975,0.1617758870124817,0.3706623613834381,-0.022846616804599762,0.1970614194869995,0.10893082618713379,-0.10176021605730057,-0.23901022970676422,0.19707044959068298,0.2645987272262573,0.5839200019836426,0.15646085143089294,0.4327167272567749,0.04389844462275505,-1.2656440734863281,-0.34875521063804626,0.34276795387268066,0.04240313917398453,0.13944688439369202,-0.15751470625400543,0.15182264149188995,0.3642091453075409,1.1396199464797974,-0.7945265173912048,0.12771202623844147,-0.2457515299320221,0.24794316291809082,-0.19284677505493164,0.23098626732826233,-0.2838391661643982,-0.12507414817810059,-0.3929949700832367,-0.862851619720459,0.5770540833473206,0.09783920645713806,0.1106395348906517,-0.38403981924057007,-0.15904851257801056,1.5317108631134033,0.9838640689849854,-0.1410718858242035,-0.19085943698883057,-0.4187534749507904,-0.4234347343444824,0.3133249282836914,0.40266042947769165,0.19691982865333557,-0.25567108392715454,-0.19797249138355255,-1.7224093675613403,-0.010345354676246643,0.23473642766475677,0.025976108387112617,0.5869455933570862,-0.29194965958595276,0.04239928349852562,0.5601049661636353,-0.015405764803290367,-0.18983213603496552,0.038434527814388275,-0.021426763385534286,-0.5806084871292114,-0.29347583651542664,-0.2179899364709854,-0.007360851392149925,-0.5942792892456055,0.1886412799358368,-2.3484046459198,-0.24366725981235504,-2.5361175537109375,0.04018377885222435,0.011708583682775497,0.8860054612159729,-0.05972641333937645,-0.2669426202774048,0.25456392765045166,-0.32437267899513245,-0.9231393337249756,0.009672325104475021,0.4303830564022064,-0.42780575156211853,0.1151570975780487,0.29491114616394043,-0.21946601569652557,-0.36752358078956604,1.3093494176864624,0.16737300157546997,-0.6072037816047668,0.23868289589881897,0.15602119266986847,0.35736557841300964,-0.3047082722187042,-0.4885641932487488,-0.37578633427619934,1.3865278959274292;0,-2.284705638885498,0,-1.7471345663070679,0,-1.4301660060882568,0,2.539656639099121;-1.1178237199783325,2.229137897491455,0.20508606731891632,0.3041532635688782,-0.45473021268844604,0.08674914389848709,0.6518391370773315,-0.14668966829776764,1.0436586141586304,-0.24654650688171387,-0.5472851991653442,-0.41154733300209045,0.5088735222816467,-0.36610540747642517,0.1691952645778656,0.2608500123023987,0.44885683059692383,0.3630208373069763,3.188413619995117,0.04889487475156784,0.23460105061531067,0.3855609893798828,-0.04978611692786217,1.7515822649002075,0.3524959683418274,-0.45382824540138245,-1.6322845220565796,-0.8174835443496704,0.24437367916107178,0.04751458019018173,-0.15517041087150574,0.13593639433383942,-0.17284247279167175,-0.1945033222436905,-0.28715381026268005,0.3755475878715515,-0.5417128205299377,0.3839554786682129,-0.26116442680358887,-0.4979479908943176,-0.5970050692558289,0.2465270608663559,-0.41389769315719604,0.02247706986963749,0.46889039874076843,0.5254200100898743,0.5964738726615906,-1.2302076816558838,0.4549117088317871,-0.09733645617961884,0.5257800817489624,-0.24951507151126862,-0.05756426230072975,-0.3478344976902008,0.18194209039211273,-0.2726486325263977,1.27130925655365,0.06282922625541687,-0.29803234338760376,0.3262384831905365,-0.8678346872329712,-0.6451218724250793,-0.15887068212032318,-0.35411834716796875,-0.5905461311340332,0.24487300217151642,0.009749396704137325,0.009869375266134739,-0.5271385312080383,0.26509425044059753,0.1877528727054596,0.2794197201728821;0,0,0,0,-0.041771452873945236,0,0.44573432207107544,-1.0951014757156372,0');

        // Pista 6
        this.pesos.push('1.3229777812957764,3.3772287368774414,0.7005923390388489,-0.05608475208282471,-1.3558566570281982,1.5351650714874268,-0.00011290586553514004,1.0626245737075806,0.08819231390953064,2.9974253177642822,2.3144702911376953,2.3201913833618164,-1.1038004159927368,2.253314733505249,-2.870337963104248,1.9592889547348022,-0.5486811995506287,-0.13610967993736267,0.16486762464046478,-0.8290215730667114,-1.5775628089904785,-0.011424906551837921,-0.643483579158783,-0.007668179925531149,0.05484018474817276,0.31735870242118835,0.02587611973285675,-0.1117280125617981,-1.3013806343078613,-0.47171059250831604,-1.518649935722351,0.09672115743160248,1.3274797201156616,-0.17575106024742126,0.6493120789527893,0.6897537708282471,-0.3130420446395874,0.8817152976989746,-0.68528813123703,-0.07434539496898651,1.3171517848968506,-3.632964849472046,-0.3898075819015503,0.9846222996711731,1.1739628314971924,1.2899582386016846,-0.020082084462046623,-1.182587742805481,-1.9415663480758667,0.8900938034057617,-0.20326019823551178,-0.05337204784154892,-0.15117081999778748,1.1475558280944824,0.2004869133234024,-0.6314815878868103,0.6531809568405151,-0.6161296367645264,1.0339791774749756,-0.020540321245789528,0.18262962996959686,0.14441359043121338,-0.5498229265213013,-1.3016630411148071,0.4780113399028778,-1.6612062454223633,-0.31420406699180603,-0.942568302154541,-0.2376827448606491,0.21417202055454254,-1.0536365509033203,1.4567961692810059,-0.18337221443653107,-0.08408510684967041,-0.8469411134719849,-1.013727068901062,0.9276162981987,1.3076540231704712,-0.9746222496032715,0.2344059944152832,1.605248212814331,-0.40485459566116333,0.3177157938480377,-0.5119832754135132,0.378024160861969,-0.20123295485973358,0.12042344361543655,-0.06688317656517029,0.07144952565431595,-0.6274488568305969,-0.27774274349212646,-0.218927264213562,1.145168423652649,0.1421506404876709,1.221480131149292,0.29551073908805847,-0.6916189789772034,-0.39176493883132935,0.2783479690551758,0.7913298010826111,0.2001747339963913,0.23634421825408936,0.38834887742996216,-0.4023599922657013,-0.890005886554718,-2.754788875579834,0.2174185961484909,-0.3465447723865509,0.16688817739486694,-0.7166265845298767,-0.10180824249982834,0.23599018156528473,0.4464564025402069,-0.14159740507602692,0.22259950637817383,-3.299773693084717,0.3294631242752075,-0.1929997056722641,-0.29346615076065063,1.4783276319503784,-0.4490848481655121,-0.5530824065208435,0.779869019985199,0.7974951863288879,-0.17255575954914093,0.519158124923706,-0.07809162884950638,-0.43975257873535156,0.9542723298072815,-0.2153337001800537,-0.09493837505578995,-1.62615168094635,0.7038032412528992,-0.8036648631095886,2.077723741531372,1.5111457109451294,0.9114229083061218,0.5320845246315002,0.49721962213516235,1.0190558433532715,-0.35753679275512695,-0.1977338194847107,-0.6200626492500305,0.4523347020149231,0.10369447618722916,1.6845771074295044,-1.5457804203033447,0.4363076090812683,1.1765552759170532,-0.7257341742515564,-0.45391595363616943,-1.492690086364746,1.3063876628875732,-1.462575912475586,-0.0684361532330513,0.4428396224975586,-0.09250064939260483,-1.6821056604385376,1.9146337509155273,-1.5892010927200317,-2.345355749130249,-0.002752932719886303,-1.1286299228668213,0.4432060420513153,0.28514131903648376,-0.15610714256763458,0.28671377897262573,-0.3532671630382538,-2.2148396968841553,0.09437154233455658,-0.2757589817047119,1.6784626245498657,-0.25865045189857483,-3.529001474380493,1.1483749151229858,-0.18759043514728546;0.38221344351768494,-3.7548093795776367,-0.18924719095230103,-1.8621301651000977,-0.5364366173744202,1.0271002054214478,3.444030523300171,-0.7012357711791992;-1.1165344715118408,-4.467316627502441,-0.23999187350273132,0.6380665898323059,-5.407311916351318,-15.435912132263184,-0.5236417055130005,2.749035120010376,-0.40915828943252563,-0.8569592833518982,4.255655765533447,-0.46589282155036926,8.59890365600586,12.889107704162598,-3.881571054458618,0.09447804093360901,7.55172061920166,0.46220192313194275,0.09166659414768219,-4.140368461608887,-0.5642883777618408,3.4771382808685303,1.119403600692749,-15.838191986083984,0.8805463910102844,-1.4585281610488892,-2.983337879180908,-1.6275745630264282,0.5295390486717224,1.060189962387085,-2.352689504623413,-2.785656213760376,10.200949668884277,0.31764084100723267,1.5626157522201538,-0.07951429486274719,-0.38571521639823914,-1.6781598329544067,0.6164482235908508,-0.19590741395950317,2.4018564224243164,-1.7331327199935913,0.9855950474739075,0.47468551993370056,-0.5718217492103577,-0.36232954263687134,3.605583429336548,-0.5260023474693298,2.6317923069000244,1.9016613960266113,14.743078231811523,2.183363914489746,-0.16566714644432068,-2.2354559898376465,0.43208643794059753,-1.5236274003982544,0.31777289509773254,7.151866912841797,11.726842880249023,-0.6791914701461792,0.08319546282291412,0.6990463733673096,1.8950269222259521,0.2770864963531494,1.7267019748687744,0.5708152055740356,0.457409530878067,7.77824068069458,-4.918962001800537,-2.4011194705963135,19.078540802001953,0.22922012209892273;-3.9199297428131104,-6.194295406341553,-0.41228777170181274,5.834606170654297,19.142086029052734,0.8966294527053833,1.2178304195404053,-3.723332405090332,1.0722932815551758');
    }

    getFirstWeights() {

        let child = new Car('X');
        let pesos;
        if (pesosForcados != undefined) {
            pesos = this.pesos[pesosForcados];
            console.log(`Pesos da pista ${pesosForcados}`);
        } else {
            pesos = this.pesos[pista.selectedPista];
        }

        if (pesos.length > 0) {
            if (world.startWeightSaved) {
                child.ia.setWeightsFromString(pesos, this.shapes);
            }
        }
        cars.push(child);
        this.melhor = child;

        vivos = cars.length;

    }

    nextGeneration() {

        if (!this.melhor) {

            console.log('Primeira geração!')
            zerarFrota();
            this.getFirstWeights();
            return

        }

        this.melhor = this.getMelhorCarro(true);
        this.gotCloserBest = this.getGotCloserBest();

        if (this.gotCloserBest > this.recordCloser) {
            this.recordCloser = this.gotCloserBest;
        }

        this.calcColocacao();

        this.saveWeights(this.melhor);

        console.log(`G${addZero(nGeracao + 1)} (${getHourMin()}) km: ${this.melhor.lap} - ${this.melhor.km} M: ${this.melhor.marca} R: ${this.melhor.ranhurasColetadas.length} ID: ${this.melhor.id} CARS: ${cars.length} Perto: ${addZero(this.gotCloserBest)} Muts: ${this.melhor.ia.mutated} NM: ${this.melhor.ia.mutatedNeurons}`);

        if (this.melhor.ranhurasColetadas.length > record) {
            foo.speak(`Atingiu ${this.melhor.ranhurasColetadas.length}!`);
            record = this.melhor.ranhurasColetadas.length;
        }

        if (this.melhor.km < pista.recordKm || this.melhor.ranhurasColetadas.length > pista.recordRanhuras) {

            pista.recordKm = this.melhor.km;
            pista.recordRanhuras = this.melhor.ranhurasColetadas.length;

            if (nGeracao > 0) {
                foo.speak(`quilômetro ${pista.recordKm.toFixed(0)}!`);
                this.melhor.ia.showWeights();
            }
        }

        evolucao.push(this.melhor);
        zerarFrota();

        nGeracao++;
        hue = 0;

        const weights = this.melhor.ia.model.getWeights();

        const weightCopies = [];
        for (let i = 0; i < weights.length; i++) {
            weightCopies[i] = weights[i].clone();
        }

        // Clonado e mutado.
        for (let i = 1; i < (quantidade / 3) * 0; i++) {

            let child = new Car('m', true, true, false);
            child.ia.model.setWeights(weightCopies);
            child.mutate(Number(random(0.01, 0.015).toFixed(15)), 4);
            cars.push(child);

        }

        // Clonado e mutado.
        for (let i = 1; i < (quantidade / 3) * 3; i++) {

            let child = new Car('m', true, true, false);
            child.ia.model.setWeights(weightCopies);
            child.mutate(Number(random(0.01, 0.015).toFixed(15)), 20);
            cars.push(child);

        }

        // Clonado (elitismo)
        if (elitism) {

            let child = new Car('c');
            child.ia.model.setWeights(weightCopies);
            cars.push(child);
        }

        vivos = cars.length;

    }

    setFlag() {

        if (showFlag) {
            if (pista) {
                const tmpMelhor = this.getMelhorCarro();
                if (tmpMelhor) {
                    pista.setFlag(tmpMelhor.pos.x, tmpMelhor.pos.y, tmpMelhor.km);
                    this.melhorCorrente = tmpMelhor;
                }
            }
        }

    }

    getQuemMaisDeuReh(qtd) {

        console.log(`Primeiro: ${colocacao[0].km}`);

        let maiorReh = 0;
        let maiorI = 0;

        for (let i = 0; i < min(qtd, colocacao.length); i++) {

            car = colocacao[i];

            console.log(`${i}:  ${colocacao[i].km} -> ${colocacao[i].qtdReh}`);

            if (car.km > 0) {
                if (myRelu(colocacao[i].qtdReh) > maiorReh) {

                    maiorReh = myRelu(colocacao[i].qtdReh);
                    maiorI = i;
                }
            }
        }

        console.log('******* Maior ré é ->', colocacao[maiorI].qtdReh, ' km ', colocacao[maiorI].km, ' i: ', maiorI);
        return colocacao[maiorI];

    }

    getGotCloserBest() {

        let qtd = 0;

        if (this.melhor) {
            for (const car of cars) {
                if (this.melhor.id != car.id) {
                    if (abs(this.melhor.km - car.km) < 100) {
                        qtd++;
                    }
                }
            }
        }

        return qtd;

    }

    getMelhorCarro(isEnd) {

        let best = this.melhor;

        for (const car of cars) {
            if (car.lap > best.lap) {
                best = car;
            }
        }

        for (const car of cars) {

            if (car.km > 0 && car.lap == best.lap) {

                if (car.km < best.km) {
                    best = car;
                }
            }

        }

        // Menos mutações entre os empatados por ditância.

        for (const car of cars) {

            if (car.km == best.km && car.lap == best.lap) {

                if (car.ia.mutated < best.ia.mutated || random() > 0.5) {
                    best = car;
                }

            }

        }        

        return best;

    }

    getMelhorCarro_Depre(isEnd) {

        let melhor = null;
        let km = Infinity;
        let maisRanhuras = 0;
        let lap = 0;
        let maisMuts = -1;
        let betterAverageSpeed = 0;

        // // Seleciona carro com mais histórico de marchas.

        // let hists = { qtd: 0, car: null, uniq: {} };
        // for (const car of cars) {

        //     // const uniq = [...new Set(car.accHistory)];
        //     const uniq = [...car.accHistory];
        //     if (uniq.length > hists.qtd) {
        //         hists.qtd = uniq.length;
        //         hists.car = car;
        //         hists.uniq = uniq;

        //         melhor = car;
        //     }

        // }

        // console.log('Hists: ', hists)


        // Seleciona a maior volta.

        for (const car of cars) {
            if (car.lap > lap) lap = car.lap;
        }

        // Mais perto do final da pista.

        for (const car of cars) {

            if (car.km > 0 && car.lap == lap) {

                if (car.km < km) {
                    km = car.km;
                    melhor = car;
                }
            }

        }

        // Cars with better avarage speed.

        for (const car of cars) {

            if (car.km == km && car.lap == lap) {
                if (car.getAverageSpeed() > betterAverageSpeed) {
                    betterAverageSpeed = car.getAverageSpeed();
                    melhor = car;
                }

            }

        }

        // Carros com mais mutações.

        for (const car of cars) {

            if (car.km == km && car.lap == lap && car.getAverageSpeed() == betterAverageSpeed) {

                if (car.ia.mutated > maisMuts) {
                    maisMuts = car.ia.mutated;
                    melhor = car;
                }

            }

        }

        if (pista.ranhuras.length > 0) {

            for (const car of cars) {

                if (car.ranhurasColetadas.length > maisRanhuras) {
                    maisRanhuras = car.ranhurasColetadas.length;
                    melhor = car;
                }
            }

            if (maisRanhuras < 7 && pista.selectedPista == 2) {

                // Se empate, verifica desses qual tem melhor ângulo.

                let maiorHea = 0;

                for (const car of cars) {
                    if (car.ranhurasColetadas.length == maisRanhuras) {
                        if (car.heading > maiorHea) {
                            maiorHea = car.heading;
                            melhor = car;
                        }
                    }
                }

            } else {

                // Se empate, verifica desses qual tem melhor km.

                let maisKm = Infinity;

                for (const car of cars) {
                    if (car.ranhurasColetadas.length == maisRanhuras) {
                        if (car.km > 0) {
                            if (car.km < maisKm) {
                                maisKm = car.km;
                                melhor = car;
                            }
                        }
                    }
                }
            }
        }

        if (isEnd && melhor === null) {
            const msg = 'Erro: Não consegui determinar o melhor carro!'
            console.log(msg);
            foo.speak(msg);
        }


        return melhor;
    }

    funcSalvarMelhorCarro(melhor) {
        if (salvarMelhorCarro) {
            // localStorage.setItem('meuGato', 'Tom');

            // document.cookie = "username=ivan; expires=Thu, 18 Dec 2025 12:00:00 UTC; path=/";

            // try {
            //     console.log('Salvando carro... ', this.melhor.marca);
            //     await this.melhor.ia.model.save('indexeddb://caria-melhor');
            //     console.log('Salvo');
            //     // await this.melhor.ia.model.save('localstorage://caria-melhor');
            // } catch (err) {
            //     console.error(err);
            // }
        }
    }

    funcCarregarCarroSalvo() {
        if (carregarCarroSalvo) {
            // console.log(' leitura: ',localStorage.getItem('meuGato'));
            // console.log('cookie => ',document.cookie);
            // try {

            //     console.log('Carregando carro salvo...');
            //     const melhorSalvo = await tf.loadLayersModel('indexeddb://caria-melhor');

            //     let child = new Car('X');
            //     child.ia.model = null;
            //     child.ia.model = melhorSalvo
            //     cars.push(child);

            // } catch (err) {
            //     console.error(err);
            // }
            // melhorCarregado = true;
            // console.log('Carregado!')
        }

    }
    saveWeights(car) {
        const w = car.ia.showWeights(true);
        localStorage.setItem('melhor', w);
    }

    calcColocacao() {
        colocacao = [];
        for (let car of cars) {
            colocacao.push(car);
        }
        if (colocacao.length > 0) {
            colocacao.sort(function (a, b) { return b.km < a.km });
        }

    }


}